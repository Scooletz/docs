---
title: "Increment Next Identity Operation"
sidebar_label: Increment Next Identity
sidebar_position: 1
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/language-switcher";
import LanguageContent from "@site/src/components/language-content";

export const supportedLanguages = ["csharp", "python", "php", "nodejs"];


# Increment Next Identity Operation
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">

<Admonition type="note" title="Note">

* Use `NextIdentityForOperation` to increment the latest identity value set on the server for the specified collection in the database.

* The next document that will be created using an identity for the collection will receive the consecutive integer value.

* In this page:

  * [Increment the next identity value](../../../../client-api/operations/maintenance/identities/increment-next-identity#increment-the-next-identity-value)
  * [Syntax](../../../../client-api/operations/maintenance/identities/increment-next-identity#syntax)

</Admonition>
## Increment the next identity value 

<Tabs groupId='languageSyntax'>
<TabItem value="Sync" label="Sync">
<CodeBlock language="csharp">
{`// Create a document with an identity ID:
// ======================================

using (var session = store.OpenSession())
{ 
    // Pass a collection name that ends with a pipe '|' to create an identity ID
    session.Store(new Company { Name = "RavenDB" }, "companies|");
    session.SaveChanges();
    // => Document "companies/1" will be created 
}

// Increment the identity value on the server:
// ===========================================

// Define the next identity operation
// Pass the collection name (can be with or without a pipe)
var nextIdentityOp = new NextIdentityForOperation("companies|");

// Execute the operation by passing it to Maintenance.Send
// The latest value will be incremented to "2"
// and the next document created with an identity will be assigned "3"
long incrementedValue = store.Maintenance.Send(nextIdentityOp);

// Create another document with an identity ID:
// ============================================

using (var session = store.OpenSession())
{ 
    session.Store(new Company { Name = "RavenDB" }, "companies|");
    session.SaveChanges();
    // => Document "companies/3" will be created
}
`}
</CodeBlock>
</TabItem>
<TabItem value="Async" label="Async">
<CodeBlock language="csharp">
{`// Create a document with an identity ID:
// ======================================

using (var asyncSession = store.OpenAsyncSession())
{ 
    // Pass a collection name that ends with a pipe '|' to create an identity ID
    asyncSession.StoreAsync(new Company { Name = "RavenDB" }, "companies|");
    asyncSession.SaveChangesAsync(); 
    // => Document "companies/1" will be created 
}

// Increment the identity value on the server:
// ===========================================

// Define the next identity operation
// Pass the collection name (can be with or without a pipe)
var nextIdentityOp = new NextIdentityForOperation("companies|");

// Execute the operation by passing it to Maintenance.SendAsync
// The latest value will be incremented to "2"
// and the next document created with an identity will be assigned "3"
long incrementedValue = await store.Maintenance.SendAsync(nextIdentityOp);

// Create another document with an identity ID:
// ============================================

using (var asyncSession = store.OpenAsyncSession())
{ 
    asyncSession.StoreAsync(new Company { Name = "AnotherCompany" }, "companies|");
    asyncSession.SaveChangesAsync();
    // => Document "companies/3" will be created
}
`}
</CodeBlock>
</TabItem>
</Tabs>



## Syntax 

<TabItem value="something" label="syntax">
<CodeBlock language="csharp">
{`public NextIdentityForOperation(string name);
`}
</CodeBlock>
</TabItem>

| Parameter | Type   | Description                                                                                                                                    |
|-----------|--------|------------------------------------------------------------------------------------------------------------------------------------------------|
| **name**  | string | The collection name for which to increment the identity value.<br/>Can be with or without a pipe in the end (e.g. "companies" or "companies\|". |




</LanguageContent>
<LanguageContent language="python">

<Admonition type="note" title="Note">

* Use `NextIdentityForOperation` to increment the latest identity value set on the server for the specified collection in the database.

* The next document that will be created using an identity for the collection will receive the consecutive integer value.

* In this page:

  * [Increment the next identity value](../../../../client-api/operations/maintenance/identities/increment-next-identity#increment-the-next-identity-value)
  * [Syntax](../../../../client-api/operations/maintenance/identities/increment-next-identity#syntax)

</Admonition>
## Increment the next identity value 

<TabItem value="something-something" label="increment_identity">
<CodeBlock language="python">
{`# Create a document with an identity ID:
# ======================================

with store.open_session() as session:
    # Pass a collection name that ends with a pipe '|' to create an identity ID
    session.store(Company(name="RavenDB"), "companies|")
    session.save_changes()
    # => Document "companies/1" will be created

# Increment the identity value on the server:
# ===========================================

# Define the next identity operation
# Pass the collection name (can be with or without a pipe)
next_identity_op = NextIdentityForOperation("companies|")

#  Execute the operation by passing it to Maintenance.Send
#  The latest value will be incremented to "2"
#  and the next document created with an identity will be assigned "3"
incremented_value = store.maintenance.send(next_identity_op)

# Create another document with an identity ID:
# ============================================

with store.open_session() as session:
    session.store(Company(name="RavenDB"), "companies|")
    session.save_changes()
    # => Document "companies/3" will be created
`}
</CodeBlock>
</TabItem>



## Syntax 

<TabItem value="something-something" label="syntax">
<CodeBlock language="python">
{`class NextIdentityForOperation(MaintenanceOperation[int]): ...
`}
</CodeBlock>
</TabItem>

| Parameter | Type   | Description                                                         |
|-----------|--------|---------------------------------------------------------------------|
| **MaintenanceOperation[int]**  | Operation | An operation to increment the next identity |




</LanguageContent>
<LanguageContent language="php">

<Admonition type="note" title="Note">

* Use `NextIdentityForOperation` to increment the latest identity value set on the server for the specified collection in the database.

* The next document that will be created using an identity for the collection will receive the consecutive integer value.

* In this page:

  * [Increment the next identity value](../../../../client-api/operations/maintenance/identities/increment-next-identity#increment-the-next-identity-value)
  * [Syntax](../../../../client-api/operations/maintenance/identities/increment-next-identity#syntax)

</Admonition>
## Increment the next identity value 

<TabItem value="something-something" label="increment_identity">
<CodeBlock language="php">
{`// Create a document with an identity ID:
// ======================================

$session = $store->openSession();
try \{
    // Pass a collection name that ends with a pipe '|' to create an identity ID
    $company = new Company();
    $company->setName("RavenDB");
    $session->store($company, "companies|");
    $session->saveChanges();
    // => Document "companies/1" will be created
\} finally \{
    $session->close();
\}

// Increment the identity value on the server:
// ===========================================

// Define the next identity operation
// Pass the collection name (can be with or without a pipe)
$nextIdentityOp = new NextIdentityForOperation("companies|");

// Execute the operation by passing it to Maintenance.Send
// The latest value will be incremented to "2"
// and the next document created with an identity will be assigned "3"
$incrementedValue = $store->maintenance()->send($nextIdentityOp);

// Create another document with an identity ID:
// ============================================

$session = $store->openSession();
try \{
    $company = new Company();
    $company->setName("RavenDB");
    $session->store($company, "companies|");
    $session->saveChanges();
    // => Document "companies/3" will be created
\} finally \{
    $session->close();
\}
`}
</CodeBlock>
</TabItem>



## Syntax 

<TabItem value="something-something" label="syntax">
<CodeBlock language="php">
{`NextIdentityForOperation(?string $name);
`}
</CodeBlock>
</TabItem>

| Parameter | Type   | Description                                     |
|-----------|--------|-------------------------------------------------|
| **$name** | `?string` | The name of a collection to create an ID for |




</LanguageContent>
<LanguageContent language="nodejs">

<Admonition type="note" title="Note">

* Use `NextIdentityForOperation` to increment the latest identity value set on the server for the specified collection in the database.

* The next document that will be created using an identity for the collection will receive the consecutive integer value.

* In this page:

  * [Increment the next identity value](../../../../client-api/operations/maintenance/identities/increment-next-identity#increment-the-next-identity-value)
  * [Syntax](../../../../client-api/operations/maintenance/identities/increment-next-identity#syntax)

</Admonition>
## Increment the next identity value 

<TabItem value="something-something" label="increment_identity">
<CodeBlock language="nodejs">
{`// Create a document with an identity ID:
// ======================================

const session = documentStore.openSession();
const company = new Company();
company.name = "RavenDB";

// Pass a collection name that ends with a pipe '|' to create an identity ID
await session.store(company, "companies|");

await session.saveChanges();
// => Document "companies/1" will be created 

// Increment the identity value on the server:
// ===========================================

// Define the next identity operation
// Pass the collection name (can be with or without a pipe)
const nextIdentityOp = new NextIdentityForOperation("companies|");

// Execute the operation by passing it to maintenance.send
// The latest value will be incremented to "2"
// and the next document created with an identity will be assigned "3"
const incrementedValue = await store.maintenance.send(nextIdentityOp);

// Create another document with an identity ID:
// ============================================

const company = new Company();
company.name = "AnotherComapany";

await session.store(company, "companies|");
await session.saveChanges();
// => Document "companies/3" will be created
`}
</CodeBlock>
</TabItem>



## Syntax 

<TabItem value="something-something" label="syntax">
<CodeBlock language="nodejs">
{`const nextIdentityOp = new NextIdentityForOperation(name);
`}
</CodeBlock>
</TabItem>

| Parameter | Type   | Description                                                                                                                                    |
|-----------|--------|------------------------------------------------------------------------------------------------------------------------------------------------|
| **name**  | string | The collection name for which to increment the identity value.<br/>Can be with or without a pipe in the end (e.g. "companies" or "companies\|". |




</LanguageContent>