---
title: "Session: Querying: How to use Lucene"
sidebar_label: How to Use Lucene
sidebar_position: 3
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/language-switcher";
import LanguageContent from "@site/src/components/language-content";

export const supportedLanguages = ["csharp", "java", "nodejs"];


# Session: Querying: How to use Lucene
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">


Lucene flavored syntax can be used with the `WhereLucene` method, a part of the filtering methods available in `IDocumentQuery`.

## Syntax

<TabItem value="something" label="lucene_1">
<CodeBlock language="csharp">
{`IDocumentQuery<T> WhereLucene(string fieldName, string whereClause);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **fieldName** | string | Name of a field in an index (default field) |
| **whereClause** | string | Lucene-syntax based clause |

## Example

<Tabs groupId='languageSyntax'>
<TabItem value="Sync" label="Sync">
<CodeBlock language="csharp">
{`List<Company> results = session
    .Advanced
    .DocumentQuery<Company>()
    .WhereLucene("Name", "bistro")
    .ToList();
`}
</CodeBlock>
</TabItem>
<TabItem value="Async" label="Async">
<CodeBlock language="csharp">
{`List<Company> results = await asyncSession
    .Advanced
    .AsyncDocumentQuery<Company>()
    .WhereLucene("Name", "bistro")
    .ToListAsync();
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`from Companies 
where lucene(Name, 'bistro')
`}
</CodeBlock>
</TabItem>
</Tabs>

## Advanced Usage

The `fieldName` argument corresponds to Lucene's default field convention. It is mandatory to pass it to the `.WhereLucene` but the `whereClause` can contain clause that omits the field entirely giving you the opportunity to pass a complex expression e.g. `.WhereLucene("Name", "Name:bistro OR Phone:981-443655")`. It is advised to use this approach against Static Index where all fields are known, because there is no guarantee that a proper Auto Index will be created or used.


</LanguageContent>
<LanguageContent language="java">


Lucene flavored syntax can be used with the `whereLucene` method, a part of the filtering methods available in `IDocumentQuery`.

## Syntax

<TabItem value="something-something" label="lucene_1">
<CodeBlock language="java">
{`IDocumentQuery<T> whereLucene(String fieldName, String whereClause);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **fieldName** | String | Name of a field in an index (default field) |
| **whereClause** | String | Lucene-syntax based clause |

## Example

<Tabs groupId='languageSyntax'>
<TabItem value="Java" label="Java">
<CodeBlock language="java">
{`session
    .advanced()
    .documentQuery(Company.class)
    .whereLucene("Name", "bistro")
    .toList();
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`from Companies 
where lucene(Name, 'bistro')
`}
</CodeBlock>
</TabItem>
</Tabs>

## Advanced Usage

The `fieldName` argument corresponds to Lucene's default field convention. It is mandatory to pass it to the `.whereLucene` but the `whereClause` can contain clause that omits the field entirely giving you the opportunity to pass a complex expression e.g. `.whereLucene("Name", "Name:bistro OR Phone:981-443655")`. It is advised to use this approach against Static Index where all fields are known, because there is no guarantee that a proper Auto Index will be created or used.



</LanguageContent>
<LanguageContent language="nodejs">


Lucene flavored syntax can be used with the `whereLucene()` method, a part of the filtering methods available in `IDocumentQuery`.

## Syntax

<TabItem value="something-something" label="lucene_1">
<CodeBlock language="nodejs">
{`query.whereLucene(fieldName, whereClause, exact);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **fieldName** | string | Name of a field in an index (default field) |
| **whereClause** | string | Lucene-syntax based clause |
| **exact** | boolean | (optional, default false) Match exact |

## Example

<Tabs groupId='languageSyntax'>
<TabItem value="Node.js" label="Node.js">
<CodeBlock language="nodejs">
{`const companies = await session.advanced
    .documentQuery({ collection: "Companies" })
    .whereLucene("Name", "bistro")
    .all();
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`from Companies 
where lucene(name, 'bistro')
`}
</CodeBlock>
</TabItem>
</Tabs>

## Advanced Usage

The `fieldName` argument corresponds to Lucene's default field convention. It is mandatory to pass it to the `whereLucene()` but the `whereClause` can contain clause that omits the field entirely giving you the opportunity to pass a complex expression e.g. `.whereLucene("name", "name:bistro OR phone:981-443655")`. It is advised to use this approach against Static Index where all fields are known, because there is no guarantee that a proper Auto Index will be created or used.


</LanguageContent>