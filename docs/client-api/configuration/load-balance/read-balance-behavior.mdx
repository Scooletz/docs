---
title: "Read balance behavior"
sidebar_label: Read balance behavior
sidebar_position: 1
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

export const supportedLanguages = ["csharp", "python", "php", "nodejs"];


# Read balance behavior
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">

<Admonition type="note" title="Note">

* When set, the `ReadBalanceBehavior` configuration will be in effect according to the   
  conditional flow described in [Client logic for choosing a node](../../../client-api/configuration/load-balance/overview#client-logic-for-choosing-a-node).

* Once configuration is in effect then:  
  * **_Read_** requests - will be sent to the node determined by the configured option - see below.
  * **_Write_** requests - are always sent to the preferred node.  
    The data will then be replicated to all the other nodes in the database group. 
  * Upon a node failure, the node to failover to is also determined by the defined option.  

* In this page:
    * [ReadBalanceBehavior options](../../../client-api/configuration/load-balance/read-balance-behavior#readbalancebehavior-options)  
    * [Initialize ReadBalanceBehavior on the client](../../../client-api/configuration/load-balance/read-balance-behavior#initialize-readbalancebehavior-on-the-client)  
    * [Set ReadBalanceBehavior on the server:](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server)  
        * [By operation](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server---by-operation)  
        * [From Studio](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server---from-studio)  
    * [When to use](../../../client-api/configuration/load-balance/read-balance-behavior#when-to-use)
     
</Admonition>
## readBalanceBehavior options 

### `None` (default option)

  * **Read-balance**  
    No read balancing will occur.  
    The client will always send _Read_ requests to the [preferred node](../../../client-api/configuration/load-balance/overview#the-preferred-node).
  * **Failover**  
    The client will failover nodes in the order they appear in the [topology nodes list](../../../studio/database/settings/manage-database-group#database-group-topology---actions).
### `RoundRobin`

* **Read-balance**
  * Each session opened is assigned an incremental session-id number.  
    **Per session**, the client will select the next node from the topology list based on this internal session-id.  
  * All _Read_ requests made on the session (i.e a query or a load request, etc.)  
    will address the calculated node.  
  * A _Read_ request that is made on the store (i.e. executing an [operation](../../../client-api/operations/what-are-operations))   
    will go to the preferred node.  
* **Failover**  
  In case of a failure, the client will try the next node from the topology nodes list.  
### `FastestNode`

  * **Read-balance**  
    All _Read_ requests will go to the fastest node.  
    The fastest node is determined by a [Speed Test](../../../client-api/cluster/speed-test).
  * **Failover**  
    In case of a failure, a speed test will be triggered again,  
    and in the meantime the client will use the preferred node.



## Initialize ReadBalanceBehavior on the client 

* The `ReadBalanceBehavior` convention can be set **on the client** when initializing the Document Store.  
  This will set the read balance behavior for the default database that is set on the store.  

* This setting can be **overriden** by setting 'ReadBalanceBehavior' on the server, see [below](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server).   

<TabItem value="something" label="ReadBalance_1">
<CodeBlock language="csharp">
{`// Initialize 'ReadBalanceBehavior' on the client:
var documentStore = new DocumentStore
\{
    Urls = new[] \{ "ServerURL_1", "ServerURL_2", "..." \},
    Database = "DefaultDB",
    Conventions = new DocumentConventions
    \{
        // With ReadBalanceBehavior set to: 'FastestNode':
        // Client READ requests will address the fastest node
        // Client WRITE requests will address the preferred node
        ReadBalanceBehavior = ReadBalanceBehavior.FastestNode
    \}
\}.Initialize();
`}
</CodeBlock>
</TabItem>



## Set ReadBalanceBehavior on the server 

#### Set ReadBalanceBehavior on the server - by operation:

* The `ReadBalanceBehavior` configuration can be set **on the server** by sending an [operation](../../../client-api/operations/what-are-operations).  

* The operation can modify the default database only, or all databases - see examples below.  

* Once configuration on the server has changed, the running client will get updated with the new settings.  
  See [keeping client up-to-date](../../../client-api/configuration/load-balance/overview#keeping-the-client-topology-up-to-date).  

<Tabs groupId='languageSyntax'>
<TabItem value="Operation_For_Default_Database" label="Operation_For_Default_Database">
<CodeBlock language="csharp">
{`// Setting 'ReadBalanceBehavior' on the server by sending an operation:
using (documentStore)
{
    // Define the client configuration to put on the server
    var clientConfiguration = new ClientConfiguration
    {
        // Replace 'FastestNode' (from example above) with 'RoundRobin'
        ReadBalanceBehavior = ReadBalanceBehavior.RoundRobin
    };
    
    // Define the put configuration operation for the DEFAULT database
    var putConfigurationOp = new PutClientConfigurationOperation(clientConfiguration);
    
    // Execute the operation by passing it to Maintenance.Send
    documentStore.Maintenance.Send(putConfigurationOp);
    
    // After the operation has executed:
    // All WRITE requests will continue to address the preferred node 
    // READ requests, per session, will address a different node based on the RoundRobin logic
}
`}
</CodeBlock>
</TabItem>
<TabItem value="Operation_For_All_Databases" label="Operation_For_All_Databases">
<CodeBlock language="csharp">
{`// Setting 'ReadBalanceBehavior' on the server by sending an operation:
using (documentStore)
{
    // Define the client configuration to put on the server
    var clientConfiguration = new ClientConfiguration
    {
        // Replace 'FastestNode' (from example above) with 'RoundRobin'
        ReadBalanceBehavior = ReadBalanceBehavior.RoundRobin
    };
    
    // Define the put configuration operation for the ALL databases
    var putConfigurationOp = new PutServerWideClientConfigurationOperation(clientConfiguration);
    
    // Execute the operation by passing it to Maintenance.Server.Send
    documentStore.Maintenance.Server.Send(putConfigurationOp);
    
    // After the operation has executed:
    // All WRITE requests will continue to address the preferred node 
    // READ requests, per session, will address a different node based on the RoundRobin logic
}
`}
</CodeBlock>
</TabItem>
</Tabs>

#### Set ReadBalanceBehavior on the server - from Studio:

* The `ReadBalanceBehavior` configuration can be set from the Studio's [Client Configuration view](../../../studio/database/settings/client-configuration-per-database).  
  Setting it from the Studio will set this configuration directly **on the server**.  

* Once configuration on the server has changed, the running client will get updated with the new settings.  
  See [keeping client up-to-date](../../../client-api/configuration/load-balance/overview#keeping-the-client-topology-up-to-date).  



## When to use 

* Setting the read balance behavior is beneficial when you only care about distributing the _Read_ requests among the cluster nodes,
  and when all _Write_ requests can go to the same node.

* Using the 'FastestNode' option is beneficial when some nodes in the system are known to be faster than others,
  thus letting the fastest node serve each read request.




</LanguageContent>
<LanguageContent language="python">

<Admonition type="note" title="Note">

* When set, the `ReadBalanceBehavior` configuration will be in effect according to the   
  conditional flow described in [Client logic for choosing a node](../../../client-api/configuration/load-balance/overview#client-logic-for-choosing-a-node).

* Once configuration is in effect then:  
  * **_Read_** requests - will be sent to the node determined by the configured option - see below.
  * **_Write_** requests - are always sent to the preferred node.  
    The data will then be replicated to all the other nodes in the database group. 
  * Upon a node failure, the node to failover to is also determined by the defined option.  

* In this page:
    * [ReadBalanceBehavior options](../../../client-api/configuration/load-balance/read-balance-behavior#readbalancebehavior-options)  
    * [Initialize ReadBalanceBehavior on the client](../../../client-api/configuration/load-balance/read-balance-behavior#initialize-readbalancebehavior-on-the-client)  
    * [Set ReadBalanceBehavior on the server:](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server)  
        * [By operation](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server---by-operation)  
        * [From Studio](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server---from-studio)  
    * [When to use](../../../client-api/configuration/load-balance/read-balance-behavior#when-to-use)
     
</Admonition>
## readBalanceBehavior options 

### `None` (default option)

  * **Read-balance**  
    No read balancing will occur.  
    The client will always send _Read_ requests to the [preferred node](../../../client-api/configuration/load-balance/overview#the-preferred-node).
  * **Failover**  
    The client will failover nodes in the order they appear in the [topology nodes list](../../../studio/database/settings/manage-database-group#database-group-topology---actions).
### `RoundRobin`

* **Read-balance**
  * Each session opened is assigned an incremental session-id number.  
    **Per session**, the client will select the next node from the topology list based on this internal session-id.  
  * All _Read_ requests made on the session (i.e a query or a load request, etc.)  
    will address the calculated node.  
  * A _Read_ request that is made on the store (i.e. executing an [operation](../../../client-api/operations/what-are-operations))   
    will go to the preferred node.  
* **Failover**  
  In case of a failure, the client will try the next node from the topology nodes list.  
### `FastestNode`

  * **Read-balance**  
    All _Read_ requests will go to the fastest node.  
    The fastest node is determined by a [Speed Test](../../../client-api/cluster/speed-test).
  * **Failover**  
    In case of a failure, a speed test will be triggered again,  
    and in the meantime the client will use the preferred node.



## Initialize ReadBalanceBehavior on the client 

* The `ReadBalanceBehavior` convention can be set **on the client** when initializing the Document Store.  
  This will set the read balance behavior for the default database that is set on the store.  

* This setting can be **overriden** by setting 'ReadBalanceBehavior' on the server, see [below](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server).   

<TabItem value="something-something" label="ReadBalance_1">
<CodeBlock language="python">
{`# Initialize 'ReadBalanceBehavior' on the client:
document_store = DocumentStore(
    urls=["ServerURL_1", "ServerURL_2", "..."],
    database="DefaultDB",
)
conventions = DocumentConventions()
# With ReadBalanceBehavior set to: 'FastestNode':
# Client READ requests will address the fastest node
# Client WRITE requests will address the preferred node
conventions.read_balance_behavior = ReadBalanceBehavior.FASTEST_NODE

document_store.conventions = conventions
`}
</CodeBlock>
</TabItem>



## Set ReadBalanceBehavior on the server 

#### Set ReadBalanceBehavior on the server - by operation:

* The `ReadBalanceBehavior` configuration can be set **on the server** by sending an [operation](../../../client-api/operations/what-are-operations).  

* The operation can modify the default database only, or all databases - see examples below.  

* Once configuration on the server has changed, the running client will get updated with the new settings.  
  See [keeping client up-to-date](../../../client-api/configuration/load-balance/overview#keeping-the-client-topology-up-to-date).  

<Tabs groupId='languageSyntax'>
<TabItem value="Operation_For_Default_Database" label="Operation_For_Default_Database">
<CodeBlock language="python">
{`# Setting 'ReadBalanceBehavior' on the server by sending an operation:
with document_store:
    # Define the client configuration to put on the server
    client_configuration = ClientConfiguration()
    # Replace 'FastestNode' (from the example above) with 'RoundRobin'
    client_configuration.read_balance_behavior = ReadBalanceBehavior.ROUND_ROBIN

    # Define the put configuration operation for the DEFAULT database
    put_configuration_op = PutClientConfigurationOperation(client_configuration)

    # Execute the operation by passing it to maintenance.send
    document_store.maintenance.send(put_configuration_op)

    # After the operation has executed:
    # All WRITE requests will continue to address the preferred node
    # READ requests, per session, will address a different node based on the RoundRobin logic
`}
</CodeBlock>
</TabItem>
<TabItem value="Operation_For_All_Databases" label="Operation_For_All_Databases">
<CodeBlock language="python">
{`# Setting 'ReadBalanceBehavior' on the server by sending an operation:
with document_store:
    # Define the client configuration to put on the server
    client_configuration = ClientConfiguration()
    # Replace 'FastestNode' (from the example above) with 'RoundRobin'
    client_configuration.read_balance_behavior = ReadBalanceBehavior.ROUND_ROBIN

    # Define the put configuration operation for the ALL databases
    put_configuration_op = PutServerWideClientConfigurationOperation(client_configuration)

    # Execute the operation by passing it to maintenance.server.send
    document_store.maintenance.server.send(put_configuration_op)

    # After the operation has executed:
    # All WRITE requests will continue to address the preferred node
    # READ requests, per session, will address a different node based on the RoundRobin logic
`}
</CodeBlock>
</TabItem>
</Tabs>

#### Set ReadBalanceBehavior on the server - from Studio:

* The `ReadBalanceBehavior` configuration can be set from the Studio's [Client Configuration view](../../../studio/database/settings/client-configuration-per-database).  
  Setting it from the Studio will set this configuration directly **on the server**.  

* Once configuration on the server has changed, the running client will get updated with the new settings.  
  See [keeping client up-to-date](../../../client-api/configuration/load-balance/overview#keeping-the-client-topology-up-to-date).  



## When to use 

* Setting the read balance behavior is beneficial when you only care about distributing the _Read_ requests among the cluster nodes,
  and when all _Write_ requests can go to the same node.

* Using the 'FastestNode' option is beneficial when some nodes in the system are known to be faster than others,
  thus letting the fastest node serve each read request.




</LanguageContent>
<LanguageContent language="php">

<Admonition type="note" title="Note">

* When set, the `ReadBalanceBehavior` configuration will be in effect according to the   
  conditional flow described in [Client logic for choosing a node](../../../client-api/configuration/load-balance/overview#client-logic-for-choosing-a-node).

* Once configuration is in effect then:  
  * **_Read_** requests - will be sent to the node determined by the configured option - see below.
  * **_Write_** requests - are always sent to the preferred node.  
    The data will then be replicated to all the other nodes in the database group. 
  * Upon a node failure, the node to failover to is also determined by the defined option.  

* In this page:
    * [ReadBalanceBehavior options](../../../client-api/configuration/load-balance/read-balance-behavior#readbalancebehavior-options)  
    * [Initialize ReadBalanceBehavior on the client](../../../client-api/configuration/load-balance/read-balance-behavior#initialize-readbalancebehavior-on-the-client)  
    * [Set ReadBalanceBehavior on the server:](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server)  
        * [By operation](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server---by-operation)  
        * [From Studio](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server---from-studio)  
    * [When to use](../../../client-api/configuration/load-balance/read-balance-behavior#when-to-use)
     
</Admonition>
## readBalanceBehavior options 

### `None` (default option)

  * **Read-balance**  
    No read balancing will occur.  
    The client will always send _Read_ requests to the [preferred node](../../../client-api/configuration/load-balance/overview#the-preferred-node).
  * **Failover**  
    The client will failover nodes in the order they appear in the [topology nodes list](../../../studio/database/settings/manage-database-group#database-group-topology---actions).
### `RoundRobin`

* **Read-balance**
  * Each session opened is assigned an incremental session-id number.  
    **Per session**, the client will select the next node from the topology list based on this internal session-id.  
  * All _Read_ requests made on the session (i.e a query or a load request, etc.)  
    will address the calculated node.  
  * A _Read_ request that is made on the store (i.e. executing an [operation](../../../client-api/operations/what-are-operations))   
    will go to the preferred node.  
* **Failover**  
  In case of a failure, the client will try the next node from the topology nodes list.  
### `FastestNode`

  * **Read-balance**  
    All _Read_ requests will go to the fastest node.  
    The fastest node is determined by a [Speed Test](../../../client-api/cluster/speed-test).
  * **Failover**  
    In case of a failure, a speed test will be triggered again,  
    and in the meantime the client will use the preferred node.



## Initialize ReadBalanceBehavior on the client 

* The `ReadBalanceBehavior` convention can be set **on the client** when initializing the Document Store.  
  This will set the read balance behavior for the default database that is set on the store.  

* This setting can be **overriden** by setting 'ReadBalanceBehavior' on the server, see [below](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server).   

<TabItem value="something-something" label="ReadBalance_1">
<CodeBlock language="php">
{`// Initialize 'ReadBalanceBehavior' on the client:
$documentStore = new DocumentStore(["ServerURL_1", "ServerURL_2", "..."], "DefaultDB");

$conventions = new DocumentConventions();
// With ReadBalanceBehavior set to: 'FastestNode':
// Client READ requests will address the fastest node
// Client WRITE requests will address the preferred node
$conventions->setReadBalanceBehavior(ReadBalanceBehavior::fastestNode());

$documentStore->setConventions($conventions);
$documentStore->initialize();
`}
</CodeBlock>
</TabItem>



## Set ReadBalanceBehavior on the server 

#### Set ReadBalanceBehavior on the server - by operation:

* The `ReadBalanceBehavior` configuration can be set **on the server** by sending an [operation](../../../client-api/operations/what-are-operations).  

* The operation can modify the default database only, or all databases - see examples below.  

* Once configuration on the server has changed, the running client will get updated with the new settings.  
  See [keeping client up-to-date](../../../client-api/configuration/load-balance/overview#keeping-the-client-topology-up-to-date).  

<Tabs groupId='languageSyntax'>
<TabItem value="Operation_For_Default_Database" label="Operation_For_Default_Database">
<CodeBlock language="php">
{`// Setting 'ReadBalanceBehavior' on the server by sending an operation:
$documentStore = new DocumentStore();
try {
    // Define the client configuration to put on the server
    $clientConfiguration = new ClientConfiguration();
    // Replace 'FastestNode' (from example above) with 'RoundRobin'
    $clientConfiguration->setReadBalanceBehavior(ReadBalanceBehavior::roundRobin());

    // Define the put configuration operation for the DEFAULT database
    $putConfigurationOp = new PutClientConfigurationOperation($clientConfiguration);

    // Execute the operation by passing it to Maintenance.Send
    $documentStore->maintenance()->send($putConfigurationOp);

    // After the operation has executed:
    // All WRITE requests will continue to address the preferred node
    // READ requests, per session, will address a different node based on the RoundRobin logic
} finally {
    $documentStore->close();
}
`}
</CodeBlock>
</TabItem>
<TabItem value="Operation_For_All_Databases" label="Operation_For_All_Databases">
<CodeBlock language="php">
{`// Setting 'ReadBalanceBehavior' on the server by sending an operation:
$documentStore = new DocumentStore();
try {
    // Define the client configuration to put on the server
    $clientConfiguration = new ClientConfiguration();

    // Replace 'FastestNode' (from example above) with 'RoundRobin'
    $clientConfiguration->setReadBalanceBehavior(ReadBalanceBehavior::roundRobin());

    // Define the put configuration operation for the ALL databases
    $putConfigurationOp = new PutServerWideClientConfigurationOperation($clientConfiguration);

    // Execute the operation by passing it to Maintenance.Server.Send
    $documentStore->maintenance()->server()->send($putConfigurationOp);

    // After the operation has executed:
    // All WRITE requests will continue to address the preferred node
    // READ requests, per session, will address a different node based on the RoundRobin logic
} finally {
    $documentStore->close();
}
`}
</CodeBlock>
</TabItem>
</Tabs>

#### Set ReadBalanceBehavior on the server - from Studio:

* The `ReadBalanceBehavior` configuration can be set from the Studio's [Client Configuration view](../../../studio/database/settings/client-configuration-per-database).  
  Setting it from the Studio will set this configuration directly **on the server**.  

* Once configuration on the server has changed, the running client will get updated with the new settings.  
  See [keeping client up-to-date](../../../client-api/configuration/load-balance/overview#keeping-the-client-topology-up-to-date).  



## When to use 

* Setting the read balance behavior is beneficial when you only care about distributing the _Read_ requests among the cluster nodes,
  and when all _Write_ requests can go to the same node.

* Using the 'FastestNode' option is beneficial when some nodes in the system are known to be faster than others,
  thus letting the fastest node serve each read request.




</LanguageContent>
<LanguageContent language="nodejs">

<Admonition type="note" title="Note">

* When set, the `readBalanceBehavior` configuration will be in effect according to the   
  conditional flow described in [Client logic for choosing a node](../../../client-api/configuration/load-balance/overview#client-logic-for-choosing-a-node).

* Once configuration is in effect then:  
  * **_Read_** requests - will be sent to the node determined by the configured option - see below.
  * **_Write_** requests - are always sent to the preferred node.  
    The data will then be replicated to all the other nodes in the database group. 
  * Upon a node failure, the node to failover to is also determined by the defined option.  

* In this page:
    * [readBalanceBehavior options](../../../client-api/configuration/load-balance/read-balance-behavior#readbalancebehavior-options)  
    * [Initialize readBalanceBehavior on the client](../../../client-api/configuration/load-balance/read-balance-behavior#initialize-readbalancebehavior-on-the-client)  
    * [Set readBalanceBehavior on the server:](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server)  
        * [By operation](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server---by-operation)  
        * [From Studio](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server---from-studio)  
    * [When to use](../../../client-api/configuration/load-balance/read-balance-behavior#when-to-use)
     
</Admonition>
## readBalanceBehavior options 

### `None` (default option)

  * **Read-balance**  
    No read balancing will occur.  
    The client will always send _Read_ requests to the [preferred node](../../../client-api/configuration/load-balance/overview#the-preferred-node).
  * **Failover**  
    The client will failover nodes in the order they appear in the [topology nodes list](../../../studio/database/settings/manage-database-group#database-group-topology---actions).
### `RoundRobin`

* **Read-balance**
  * Each session opened is assigned an incremental session-id number.  
    **Per session**, the client will select the next node from the topology list based on this internal session-id.  
  * All _Read_ requests made on the session (i.e a query or a load request, etc.)  
    will address the calculated node.  
  * A _Read_ request that is made on the store (i.e. executing an [operation](../../../client-api/operations/what-are-operations))   
    will go to the preferred node.  
* **Failover**  
  In case of a failure, the client will try the next node from the topology nodes list.  
### `FastestNode`

  * **Read-balance**  
    All _Read_ requests will go to the fastest node.  
    The fastest node is determined by a [Speed Test](../../../client-api/cluster/speed-test).
  * **Failover**  
    In case of a failure, a speed test will be triggered again,  
    and in the meantime the client will use the preferred node.



## Initialize readBalanceBehavior on the client 

* The `readBalanceBehavior` convention can be set **on the client** when initializing the Document Store.  
  This will set the read balance behavior for the default database that is set on the store.  

* This setting can be **overriden** by setting 'readBalanceBehavior' on the server, see [below](../../../client-api/configuration/load-balance/read-balance-behavior#set-readbalancebehavior-on-the-server).   

<TabItem value="something-something" label="readBalance_1">
<CodeBlock language="nodejs">
{`// Initialize 'readBalanceBehavior' on the client: 
// ===============================================

const documentStore = new DocumentStore(["serverUrl_1", "serverUrl_2", "..."], "DefaultDB");

// For example:
// With readBalanceBehavior set to: 'FastestNode':
// Client READ requests will address the fastest node
// Client WRITE requests will address the preferred node
documentStore.conventions.readBalanceBehavior = "FastestNode";

documentStore.initialize();
`}
</CodeBlock>
</TabItem>



## Set readBalanceBehavior on the server 

#### Set readBalanceBehavior on the server - by operation:

* The `readBalanceBehavior` configuration can be set **on the server** by sending an [operation](../../../client-api/operations/what-are-operations).  

* The operation can modify the default database only, or all databases - see examples below.  

* Once configuration on the server has changed, the running client will get updated with the new settings.  
  See [keeping client up-to-date](../../../client-api/configuration/load-balance/overview#keeping-the-client-topology-up-to-date).  

<Tabs groupId='languageSyntax'>
<TabItem value="Operation_For_Default_Database" label="Operation_For_Default_Database">
<CodeBlock language="nodejs">
{`// Setting 'readBalanceBehavior' on the server by sending an operation:
// ====================================================================

// Define the client configuration to put on the server
const configurationToSave = {
    // Replace 'FastestNode' (from example above) with 'RoundRobin'
    readBalanceBehavior: "RoundRobin"
};

// Define the put configuration operation for the DEFAULT database
const putConfigurationOp = new PutClientConfigurationOperation(configurationToSave);

// Execute the operation by passing it to maintenance.send
await documentStore.maintenance.send(putConfigurationOp);

// After the operation has executed:
// All WRITE requests will continue to address the preferred node 
// READ requests, per session, will address a different node based on the RoundRobin logic
`}
</CodeBlock>
</TabItem>
<TabItem value="Operation_For_All_Databases" label="Operation_For_All_Databases">
<CodeBlock language="nodejs">
{`// Setting 'readBalanceBehavior' on the server by sending an operation:
// ====================================================================

// Define the client configuration to put on the server
const configurationToSave = {
    // Replace 'FastestNode' (from example above) with 'RoundRobin'
    readBalanceBehavior: "RoundRobin"
};

// Define the put configuration operation for ALL databases
const putConfigurationOp = new PutServerWideClientConfigurationOperation(configurationToSave);

// Execute the operation by passing it to maintenance.server.send
await documentStore.maintenance.server.send(putConfigurationOp);

// After the operation has executed:
// All WRITE requests will continue to address the preferred node 
// READ requests, per session, will address a different node based on the RoundRobin logic
`}
</CodeBlock>
</TabItem>
</Tabs>
#### Set readBalanceBehavior on the server - from Studio:

* The `readBalanceBehavior` configuration can be set from the Studio's [Client Configuration view](../../../studio/database/settings/client-configuration-per-database).  
  Setting it from the Studio will set this configuration directly **on the server**.  

* Once configuration on the server has changed, the running client will get updated with the new settings.  
  See [keeping client up-to-date](../../../client-api/configuration/load-balance/overview#keeping-the-client-topology-up-to-date).  



## When to use 

* Setting the read balance behavior is beneficial when you only care about distributing the _Read_ requests among the cluster nodes,
  and when all _Write_ requests can go to the same node.

* Using the 'FastestNode' option is beneficial when some nodes in the system are known to be faster than others,
  thus letting the fastest node serve each read request.




</LanguageContent>