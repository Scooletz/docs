---
title: "Session: Querying: What is a Document Query?"
hide_table_of_contents: true
sidebar_label: What is a Document Query
sidebar_position: 0
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

export const supportedLanguages = ["csharp", "java", "nodejs"];


# Session: Querying: What is a Document Query?
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">


Low-level querying capabilities can be accessed via the `DocumentQuery` method in advanced session operations. `DocumentQuery` gives you more flexibility and control over the process of building a query.

## Syntax

<TabItem value="document_query_1" label="document_query_1">
<CodeBlock language="csharp">
{`IDocumentQuery<T> DocumentQuery<T, TIndexCreator>();

IDocumentQuery<T> DocumentQuery<T>(
    string indexName = null,
    string collectionName = null,
    bool isMapReduce = false);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **indexName** | string | Name of an index to perform a query on (exclusive with **collectionName**)  |
| **collectionName** | string | Name of a collection to perform a query on (exclusive with **indexName**) |
| **isMapReduce** | bool | Indicates if a queried index is a map/reduce index (modifies how we treat identifier properties) |

| Return Value | |
| ------------- | ----- |
| **IDocumentQuery** | Instance implementing IDocumentQuery interface containing additional query methods and extensions |

## Example I - Basic

<TabItem value="document_query_2" label="document_query_2">
<CodeBlock language="csharp">
{`// load all entities from 'Employees' collection
List<Employee> employees = session
    .Advanced
    .DocumentQuery<Employee>()
    .ToList();
`}
</CodeBlock>
</TabItem>

<TabItem value="document_query_3" label="document_query_3">
<CodeBlock language="csharp">
{`// load all entities from 'Employees' collection
// where FirstName equals 'Robert'
List<Employee> employees = session
    .Advanced
    .DocumentQuery<Employee>()
    .WhereEquals(x => x.FirstName, "Robert")
    .ToList();
`}
</CodeBlock>
</TabItem>

## Example II - Querying Specified Index

<TabItem value="document_query_4" label="document_query_4">
<CodeBlock language="csharp">
{`// load all entities from 'Employees' collection
// where FirstName equals 'Robert'
// using 'My/Custom/Index'
List<Employee> employees = session
    .Advanced
    .DocumentQuery<Employee>("My/Custom/Index")
    .WhereEquals(x => x.FirstName, "Robert")
    .ToList();
`}
</CodeBlock>
</TabItem>

or

<TabItem value="document_query_5" label="document_query_5">
<CodeBlock language="csharp">
{`// load all entities from 'Employees' collection
// where FirstName equals 'Robert'
// using 'My/Custom/Index'
List<Employee> employees = session
    .Advanced
    .DocumentQuery<Employee, MyCustomIndex>()
    .WhereEquals("FirstName", "Robert")
    .ToList();
`}
</CodeBlock>
</TabItem>

## Custom Methods and Extensions

<Admonition type="note" title="Note">
Functionality of most of the methods match the functionality of their `Query` counterparts and therefore will not be described again. Please refer to the appropriate counterpart documentation articles. Links starting with `[Query]` are marking those articles.
</Admonition>

Available custom methods and extensions:   

- AddOrder
- AfterQueryExecuted
- AfterStreamExecuted
- [Query] [AggregateBy](../../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [Query] [AggregateUsing](../../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- AndAlso
- BeforeQueryExecuted
- Boost
- CloseSubclause
- CmpXchg
- ContainsAll
- ContainsAny
- Count
- CountLazily
- Distinct
- ExplainScores
- First
- FirstOrDefault
- Fuzzy
- [Not](../../../../client-api/session/querying/document-query/how-to-use-not-operator.mdx)
- [GroupBy](../../../../client-api/session/querying/how-to-perform-group-by-query.mdx)
- [GroupByArrayValues](../../../../client-api/session/querying/how-to-perform-group-by-query.mdx#by-array-values)
- [GroupByArrayContent](../../../../client-api/session/querying/how-to-perform-group-by-query.mdx#by-array-content)
- Include
- Intersect
- InvokeAfterQueryExecuted
- InvokeAfterStreamExecuted
- [Query] [Lazily](../../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- MoreLikeThis
- NegateNext
- [Query] [NoCaching](../../../../client-api/session/querying/how-to-customize-query.mdx#nocaching)
- [Query] [NoTracking](../../../../client-api/session/querying/how-to-customize-query.mdx#notracking)
- OfType
- OpenSubclause
- OrderBy
- OrderByDescending
- [Query] [OrderByDistance](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- [Query] [OrderByDistanceDescending](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- OrderByScore
- OrderByScoreDescending
- OrElse
- Proximity
- RandomOrdering
- [Query] [RelatesToShape](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- Search
- SelectFields
- Single
- SingleOrDefault
- Skip
- [Query] [Spatial](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- Statistics
- SuggestUsing
- Take
- UsingDefaultOperator
- [Query] [WaitForNonStaleResults](../../../../client-api/session/querying/how-to-customize-query.mdx#waitfornonstaleresults)
- [Query] [WaitForNonStaleResultsAsOf](../../../../client-api/session/querying/how-to-customize-query.mdx#waitfornonstaleresultsasof)
- Where
- WhereBetween
- WhereEndsWith
- WhereEquals
- WhereExists
- WhereGreaterThan
- WhereGreaterThanOrEqual
- WhereIn
- WhereLessThan
- WhereLessThanOrEqual
- [WhereLucene](../../../../client-api/session/querying/document-query/how-to-use-lucene.mdx)
- WhereNotEquals
- [WhereRegex](../../../../client-api/session/querying/how-to-use-regex.mdx)
- WhereStartsWith
- [Query] [WithinRadiusOf](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)

## Remarks

By default, if the `page size` is not specified, all of the matching records will be retrieved from a database.


</LanguageContent>
<LanguageContent language="java">


Querying capabilities can be accessed via the `documentQuery` method in advanced session operations. `DocumentQuery` gives you more flexibility and control over the process of building a query.

## Syntax

<TabItem value="document_query_1" label="document_query_1">
<CodeBlock language="java">
{`<T> IDocumentQuery<T> documentQuery(Class<T> clazz);

<T> IDocumentQuery<T> documentQuery(Class<T> clazz, String indexName, String collectionName, boolean isMapReduce);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **indexName** | String | Name of an index to perform a query on (exclusive with **collectionName**)  |
| **collectionName** | String | Name of a collection to perform a query on (exclusive with **indexName**) |
| **isMapReduce** | bool | Indicates if a queried index is a map/reduce index (modifies how we treat identifier properties) |

| Return Value | |
| ------------- | ----- |
| **IDocumentQuery** | Instance implementing IDocumentQuery interface containing additional query methods and extensions |

## Example I - Basic

<TabItem value="document_query_2" label="document_query_2">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
List<Employee> employees = session
    .advanced()
    .documentQuery(Employee.class)
    .toList();
`}
</CodeBlock>
</TabItem>

<TabItem value="document_query_3" label="document_query_3">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
// where firstName equals 'Robert'
List<Employee> employees = session
    .advanced()
    .documentQuery(Employee.class)
    .whereEquals("FirstName", "Robert")
    .toList();
`}
</CodeBlock>
</TabItem>

## Example II - Querying Specified Index

<TabItem value="document_query_4" label="document_query_4">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
// where firstName equals 'Robert'
// using 'My/Custom/Index'
List<Employee> employees = session
    .advanced()
    .documentQuery(Employee.class, "My/Custom/Index", null, false)
    .whereEquals("FirstName", "Robert")
    .toList();
`}
</CodeBlock>
</TabItem>

or

<TabItem value="document_query_5" label="document_query_5">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
// where firstName equals 'Robert'
// using 'My/Custom/Index'
List<Employee> employees = session
    .advanced()
    .documentQuery(Employee.class, MyCustomIndex.class)
    .whereEquals("FirstName", "Robert")
    .toList();
`}
</CodeBlock>
</TabItem>

## Custom Methods and Extensions

<Admonition type="note" title="Note">
Functionality of most of the methods match the functionality of their `query` counterparts and therefore will not be described again. Please refer to the appropriate counterpart documentation articles. Links starting with `[query]` are marking those articles.
</Admonition>

Available methods:

- addAfterQueryExecutedListener
- addBeforeQueryExecutedListener
- addOrder
- addParameter
- [Query] [aggregateBy](../../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [Query] [aggregateUsing](../../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- andAlso
- boost
- closeSubclause
- containsAll
- containsAny
- count
- countLazily
- distinct
- first
- firstOrDefault
- fuzzy
- [groupBy](../../../../client-api/session/querying/how-to-perform-group-by-query.mdx)
- [groupByArrayValues](../../../../client-api/session/querying/how-to-perform-group-by-query.mdx#by-array-values)
- [groupByArrayContent](../../../../client-api/session/querying/how-to-perform-group-by-query.mdx#by-array-content)
- include
- intersect
- invokeAfterQueryExecuted
- invokeAfterStreamExecuted
- [Query] [lazily](../../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- moreLikeThis
- negateNext
- [Query] [noCaching](../../../../client-api/session/querying/how-to-customize-query.mdx#nocaching)
- [not](../../../../client-api/session/querying/document-query/how-to-use-not-operator.mdx)
- [Query] [noTracking](../../../../client-api/session/querying/how-to-customize-query.mdx#notracking)
- ofType
- openSubclause
- orderBy
- orderByDescending
- [Query] [orderByDistance](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- [Query] [orderByDistanceDescending](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- orderByScore
- orderByScoreDescending
- orElse
- proximity
- randomOrdering
- [Query] [relatesToShape](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- search
- selectFields
- single
- singleOrDefault
- skip
- [Query] [spatial](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- statistics
- suggestUsing
- take
- usingDefaultOperator
- [Query] [waitForNonStaleResults](../../../../client-api/session/querying/how-to-customize-query.mdx#waitfornonstaleresults)
- [Query] [waitForNonStaleResultsAsOf](../../../../client-api/session/querying/how-to-customize-query.mdx#waitfornonstaleresultsasof)
- where
- whereBetween
- whereEndsWith
- whereEquals
- whereExists
- whereGreaterThan
- whereGreaterThanOrEqual
- whereIn
- whereLessThan
- whereLessThanOrEqual
- [whereLucene](../../../../client-api/session/querying/document-query/how-to-use-lucene.mdx)
- whereNotEquals
- [whereRegex](../../../../client-api/session/querying/how-to-use-regex.mdx)
- whereStartsWith
- [Query] [withinRadiusOf](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)


## Remarks

By default, if the `page size` is not specified, all of the matching records will be retrieved from a database.


</LanguageContent>
<LanguageContent language="nodejs">


Querying capabilities can be accessed via the `documentQuery()` method in advanced session operations. `DocumentQuery` gives you more flexibility and control over the process of building a query.

## Syntax

<TabItem value="document_query_1" label="document_query_1">
<CodeBlock language="js">
{`session.advanced.documentQuery(documentType);

session.advanced.documentQuery(\{
    indexName,
    collectionName,
    isMapReduce,
    documentType
\});
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **documentType** | class | A class constructor used for reviving the results' entities from which the collection name is determined |
| **options** | object | |
| &nbsp;&nbsp;*indexName* | string | Name of an index to perform a query on (exclusive with *collectionName*)  |
| &nbsp;&nbsp;*collection* | string | Name of a collection to perform a query on (exclusive with *indexName*) |
| &nbsp;&nbsp;*isMapReduce* | bool | Indicates if a queried index is a map/reduce index (modifies how we treat identifier properties) |
| &nbsp;&nbsp;*documentType* | function | A class constructor used for reviving the results' entities |

| Return Value | |
| ------------- | ----- |
| `Promise<IDocumentQuery>` | Promise resolving to query instance implementing IDocumentQuery interface containing additional query methods and extensions |

## Example I - Basic

<TabItem value="document_query_2" label="document_query_2">
<CodeBlock language="js">
{`// load all entities from 'Employees' collection
const employees = await session.advanced
    .documentQuery(Employee)
    .all();

// same as
const employees2 = await session.advanced
    .documentQuery(\{ collection: "Employees" \})
    .all();
`}
</CodeBlock>
</TabItem>

<TabItem value="document_query_3" label="document_query_3">
<CodeBlock language="js">
{`// load all entities from 'Employees' collection
// where firstName equals 'Robert'
const employees = await session.advanced
    .documentQuery(\{ collection: "Employees" \})
    .whereEquals("FirstName", "Robert")
    .all();
`}
</CodeBlock>
</TabItem>

## Example II - Querying Specified Index

<TabItem value="document_query_4" label="document_query_4">
<CodeBlock language="js">
{`// load all entities from 'Employees' collection
// where firstName equals 'Robert'
// using 'My/Custom/Index'
const employees = await session.advanced
    .documentQuery(\{ indexName: "My/Custom/Index" \})
    .whereEquals("FirstName", "Robert")
    .all();
`}
</CodeBlock>
</TabItem>

## Custom Methods and Extensions

<Admonition type="note" title="Note">
Functionality of most of the methods match the functionality of their `query` counterparts and therefore will not be described again. Please refer to the appropriate counterpart documentation articles. Links starting with `[query]` are marking those articles.
</Admonition>

Document query object is an event emitter emitting the following events:

- 'afterQueryExecuted`
- 'beforeQueryExecuted`

Available methods:

- addOrder
- addParameter
- [Query] [aggregateBy](../../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [Query] [aggregateUsing](../../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- andAlso
- boost
- closeSubclause
- containsAll
- containsAny
- count
- countLazily
- distinct
- first
- firstOrDefault
- fuzzy
- [groupBy](../../../../client-api/session/querying/how-to-perform-group-by-query.mdx)
- [groupByArrayValues](../../../../client-api/session/querying/how-to-perform-group-by-query.mdx#by-array-values)
- [groupByArrayContent](../../../../client-api/session/querying/how-to-perform-group-by-query.mdx#by-array-content)
- include
- intersect
- invokeAfterQueryExecuted
- invokeAfterStreamExecuted
- [Query] [lazily](../../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- moreLikeThis
- negateNext
- [Query] [noCaching](../../../../client-api/session/querying/how-to-customize-query.mdx#nocaching)
- [not](../../../../client-api/session/querying/document-query/how-to-use-not-operator.mdx)
- [Query] [noTracking](../../../../client-api/session/querying/how-to-customize-query.mdx#notracking)
- ofType
- openSubclause
- orderBy
- orderByDescending
- [Query] [orderByDistance](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- [Query] [orderByDistanceDescending](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- orderByScore
- orderByScoreDescending
- orElse
- proximity
- randomOrdering
- [Query] [relatesToShape](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- search
- selectFields
- single
- singleOrDefault
- skip
- [Query] [spatial](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- statistics
- suggestUsing
- take
- usingDefaultOperator
- [Query] [waitForNonStaleResults](../../../../client-api/session/querying/how-to-customize-query.mdx#waitfornonstaleresults)
- [Query] [waitForNonStaleResultsAsOf](../../../../client-api/session/querying/how-to-customize-query.mdx#waitfornonstaleresultsasof)
- where
- whereBetween
- whereEndsWith
- whereEquals
- whereExists
- whereGreaterThan
- whereGreaterThanOrEqual
- whereIn
- whereLessThan
- whereLessThanOrEqual
- [whereLucene](../../../../client-api/session/querying/document-query/how-to-use-lucene.mdx)
- whereNotEquals
- [whereRegex](../../../../client-api/session/querying/how-to-use-regex.mdx)
- whereStartsWith
- [Query] [withinRadiusOf](../../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)


## Remarks

By default, if the `page size` is not specified, all of the matching records will be retrieved from a database.


</LanguageContent>

<!---
### Session
- [How to Query](../../../../client-api/session/querying/how-to-query)
- [How to Use Lucene](../../../../client-api/session/querying/document-query/how-to-use-lucene)

### Querying
- [Query vs DocumentQuery](../../../../indexes/querying/query-vs-document-query)


-->