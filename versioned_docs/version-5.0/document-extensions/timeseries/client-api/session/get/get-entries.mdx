---
title: "Session: Get Time Series Entries"
hide_table_of_contents: true
sidebar_label: Get Entries
sidebar_position: 0
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

# Session: Get Time Series Entries 
<Admonition type="note" title="Note">

To get a range of time series entries, use one of the `TimeSeriesFor.Get` methods.  

<Admonition type="info" title="Info">

* [Include](../../../../../document-extensions/timeseries/client-api/session/include/overview.mdx) 
  time series data while [loading](../../../../../document-extensions/timeseries/client-api/session/include/with-session-load.mdx) 
  or [querying](../../../../../document-extensions/timeseries/client-api/session/include/with-session-query.mdx) 
  documents, to keep the data locally in the client's session and refrain from unnecessary additional trips to the server.  
* While loading time series entries, you can 
  [also Include](../../../../../document-extensions/timeseries/client-api/session/get/get-entries.mdx#include-parent-and-tagged-documents) 
  the series **parent document** and/or **documents referred-to by entry tags**.  
* When caching is enabled, time series data is kept in the session cache as well.  

</Admonition>

* In this page:  
   * [`TimeSeriesFor.Get`](../../../../../document-extensions/timeseries/client-api/session/get/get-entries.mdx#timeseriesforget)  
      * [Syntax](../../../../../document-extensions/timeseries/client-api/session/get/get-entries.mdx#syntax)  
      * [Usage Flow](../../../../../document-extensions/timeseries/client-api/session/get/get-entries.mdx#usage-flow)  
      * [Usage Samples](../../../../../document-extensions/timeseries/client-api/session/get/get-entries.mdx#usage-samples)  

</Admonition>
## `TimeSeriesFor.Get`

`TimeSeriesFor.Get` retrieves a range of entries from a single time series.  
     
* To retrieve multiple series' data, use the 
  [GetMultipleTimeSeriesOperation](../../../../../document-extensions/timeseries/client-api/operations/get.mdx#getmultipletimeseriesoperation) 
  document-store operation.  
* Retrieved data can be sliced to **pages** to get time series entries 
  gradually, one custom-size page at a time.  



## Syntax

* There are two `TimeSeriesFor.Get` methods:  
<TabItem value="TimeSeriesFor-Get-definition" label="TimeSeriesFor-Get-definition">
<CodeBlock language="csharp">
{`TimeSeriesEntry[] Get(DateTime? from = null, DateTime? to = null,
    int start = 0, int pageSize = int.MaxValue);
`}
</CodeBlock>
</TabItem>
<TabItem value="TimeSeriesFor-Get-Named-Values" label="TimeSeriesFor-Get-Named-Values">
<CodeBlock language="csharp">
{`//The stongly-typed API is used, to address time series values by name.
TimeSeriesEntry<TValues>[] Get(DateTime? from = null, DateTime? to = null,
int start = 0, int pageSize = int.MaxValue);
`}
</CodeBlock>
</TabItem>

* **Parameters**  

    | Parameters | Type | Description |
    |:-------------|:-------------|:-------------|
    | `from` | `DateTime?` | Range Start |
    | `to` | `DateTime?` | Range End |
    | `start` | `int` | Paging first entry. <br/> E.g. 50 means the first page would start at the 50th time series entry. <br/> Default: 0, for the first time-series entry. |
    | `pagesize` | `int` | Paging page-size. <br/> E.g. set `pagesize` to 10 to retrieve pages of 10 entries. <br/> Default: int.MaxValue, for all time series entries. |

* **Return Values**  
   * **`TimeSeriesEntry[]`** - an array of time series entry classes.
<TabItem value="TimeSeriesEntry-Definition" label="TimeSeriesEntry-Definition">
<CodeBlock language="csharp">
{`public class TimeSeriesEntry
\{
    public DateTime Timestamp \{ get; set; \}
    public double[] Values \{ get; set; \}
    public string Tag \{ get; set; \}
    public bool IsRollup \{ get; set; \}

    public double Value;

    //..
\}
`}
</CodeBlock>
</TabItem>
   * **`TimeSeriesEntry<TValues>[]`** - 
     Time series values that can be referred to [by name](../../../../../document-extensions/timeseries/client-api/named-time-series-values.mdx).  



## Usage Flow

* Open a session.  
* Create an instance of `TimeSeriesFor`.  
    * Either pass `TimeSeriesFor` an explicit document ID,  
      -or-  
      Pass it an [entity tracked by the session](../../../../../client-api/session/loading-entities.mdx), 
      e.g. a document object returned from [session.Query](../../../../../client-api/session/querying/how-to-query.mdx) 
      or from [session.Load](../../../../../client-api/session/loading-entities.mdx#load).  
    * Pass `TimeSeriesFor` the time series name.  
* Call `TimeSeriesFor.Get`.  



## Usage Samples

* In this sample we retrieve all the entries of a time series, 
  using its parent-document's ID explicitly.  
<TabItem value="timeseries_region_Get-All-Entries-Using-Document-ID" label="timeseries_region_Get-All-Entries-Using-Document-ID">
<CodeBlock language="csharp">
{`// Get all time series entries
TimeSeriesEntry[] val = session.TimeSeriesFor("users/john", "HeartRates")
    .Get(DateTime.MinValue, DateTime.MaxValue);
`}
</CodeBlock>
</TabItem>

* In this sample we query for a document and get its "Heartrate" time series data.  
<TabItem value="timeseries_region_Pass-TimeSeriesFor-Get-Query-Results" label="timeseries_region_Pass-TimeSeriesFor-Get-Query-Results">
<CodeBlock language="csharp">
{`// Query for a document with the Name property "John" 
// and get its HeartRates time-series values
using (var session = store.OpenSession())
\{
    var baseline = DateTime.Today;

    IRavenQueryable<User> query = session.Query<User>()
        .Where(u => u.Name == "John");

    var result = query.ToList();

    TimeSeriesEntry[] val = session.TimeSeriesFor(result[0], "HeartRates")
        .Get(DateTime.MinValue, DateTime.MaxValue);

    session.SaveChanges();
\}
`}
</CodeBlock>
</TabItem>

* Here, we check whether a stock's closing-time price is rising from day to day (over three days).  
  Since each time series entry contains multiple StockPrice values, we include a sample that 
  uses [named time series values](../../../../../document-extensions/timeseries/client-api/named-time-series-values.mdx) 
  to make the code easier to read.  
<Tabs groupId='languageSyntax'>
<TabItem value="Native" label="Native">
<CodeBlock language="csharp">
{`// Use Get without a named type
// Is the stock's closing-price rising?
bool goingUp = false;

using (var session = store.OpenSession())
{
    TimeSeriesEntry[] val = session.TimeSeriesFor("users/john", "StockPrices")
        .Get();

    var closePriceDay1 = val[0].Values[1];
    var closePriceDay2 = val[1].Values[1];
    var closePriceDay3 = val[2].Values[1];

    if ((closePriceDay2 > closePriceDay1)
        &&
        (closePriceDay3 > closePriceDay2))
        goingUp = true;
}
`}
</CodeBlock>
</TabItem>
<TabItem value="Named" label="Named">
<CodeBlock language="csharp">
{`goingUp = false;

// Use Get with a Named type
using (var session = store.OpenSession())
{
    TimeSeriesEntry<StockPrice>[] val = session.TimeSeriesFor<StockPrice>("users/john")
        .Get();

    var closePriceDay1 = val[0].Value.Close;
    var closePriceDay2 = val[1].Value.Close;
    var closePriceDay3 = val[2].Value.Close;

    if ((closePriceDay2 > closePriceDay1)
        &&
        (closePriceDay3 > closePriceDay2))
        goingUp = true;
}
`}
</CodeBlock>
</TabItem>
   </Tabs>



