---
title: "Session: Opening a Session"
hide_table_of_contents: true
sidebar_label: Open a Session
sidebar_position: 1
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

export const supportedLanguages = ["csharp", "java"];


# Session: Opening a Session
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">

<Admonition type="note" title="Note">

* A Session object is obtained from the [Document Store](../../client-api/what-is-a-document-store.mdx).  

* A Session can operate Synchronously or Asynchronously.  
  * `OpenSession()` - Open a Session for a **Synchrounous** mode of operation.  
  * `OpenAsyncSession()` - Open a Session for **Asychrounous** mode of operation.  

* Various Session options can be configured using the `SessionOptions` object.  

* Be sure to wrap the Session variable with a 'using' statement to ensure proper disposal.  

* If no database is specified then the Default Database (stored in the Document Store) is assumed.  

* In this page:  
  * [Syntax](../../client-api/session/opening-a-session.mdx#syntax)  
  * [Session Options](../../client-api/session/opening-a-session.mdx#session-options)  
  * [Example](../../client-api/session/opening-a-session.mdx#example)
</Admonition>
## Syntax

`OpenSession()` / `OpenAsyncSession()` have three overloads:  

<Tabs groupId='languageSyntax'>
<TabItem value="Sync" label="Sync">
<CodeBlock language="csharp">
{`// Open a Session for the default database configured in \`DocumentStore.Database\`
IDocumentSession OpenSession();

// Open a Session for a specified database
IDocumentSession OpenSession(string database);

// Open a Session and pass it a preconfigured SessionOptions object
IDocumentSession OpenSession(SessionOptions options);
`}
</CodeBlock>
</TabItem>
<TabItem value="Async" label="Async">
<CodeBlock language="csharp">
{`// Open a Session for the default database configured in \`DocumentStore.Database\`
IAsyncDocumentSession OpenAsyncSession();

// Open a Session for a specified database
IAsyncDocumentSession OpenAsyncSession(string database);

// Open a Session and pass it a preconfigured SessionOptions object
IAsyncDocumentSession OpenAsyncSession(SessionOptions options);
`}
</CodeBlock>
</TabItem>
</Tabs>

| Parameter | Type | Description |
|-|-|-|
| **database** | `string` | The Session will operate on this database, overriding the default database set in the document store |
| **options** | `SessionOptions` | An object with Session configuration options. See details [below](../../client-api/session/opening-a-session.mdx#session-options) |

| Return Value | Description |
|-|-|
| `IDocumentSession` / `IAsyncDocumentSession` | Instance of a Session object |



## Session Options

The `SessionOptions` object contains various options to configure the Session's behavior.

| Option | Type | Description | Default Value |
| --- | --- | --- | --- |
| **Database** | string | The Session will operate on this database, overriding the Default Database. | `null` - the Session operates on the [Default Database](../../client-api/setting-up-default-database.mdx) |
| **NoTracking** | boolean | Whether the Session should track changes made to all entities that it has either loaded, stored, or queried on. <br/>See [Disable Tracking Example](../../client-api/session/configuration/how-to-disable-tracking.mdx) | `false` |
| **NoCaching** | boolean | Whether the Session should cache the server responses. <br/>See [Disable Caching Example](../../client-api/session/configuration/how-to-disable-caching.mdx) | `false` |
| **RequestExecutor** | `RequestExecutor` | _(Advanced)_ The request executor the Session should use | `null` - the default request executor is used |
| **TransactionMode** | `TransactionMode` | Specify the Session's transaction mode (`SingleNode` / `ClusterWide`). <br/>See [Cluster-Wide Transactions](../../server/clustering/cluster-transactions.mdx) | `SingleNode` |



## Example

Here is an example of opening a Session using a `SessionOptions` object:  

<Tabs groupId='languageSyntax'>
<TabItem value="Sync" label="Sync">
<CodeBlock language="csharp">
{`using (var store = new DocumentStore())
{
    // Open a Session in synchronous operation mode for cluster-wide transactions

    SessionOptions options = new SessionOptions
    {
        Database = "your_database_name",
        TransactionMode = TransactionMode.ClusterWide
    };

    using (IDocumentSession Session = store.OpenSession(options))
    {
        //   Run your business logic:
        //   
        //   Store documents
        //   Load and Modify documents
        //   Query indexes & collections 
        //   Delete documents
        //   ... etc.

        Session.SaveChanges();
    }
}
`}
</CodeBlock>
</TabItem>
<TabItem value="Async" label="Async">
<CodeBlock language="csharp">
{`using (var store = new DocumentStore())
{
    // Open a Session in asynchronous operation mode for cluster-wide transactions

    SessionOptions options = new SessionOptions
    {
        Database = "your_database_name",
        TransactionMode = TransactionMode.ClusterWide
    };

    using (IAsyncDocumentSession Session = store.OpenAsyncSession(options))
    {
        //   Run your business logic:
        //   
        //   Store documents
        //   Load and Modify documents
        //   Query indexes & collections 
        //   Delete documents
        //   ... etc.

        await Session.SaveChangesAsync();
    }
}
`}
</CodeBlock>
</TabItem>
</Tabs>




</LanguageContent>
<LanguageContent language="java">


To open session use the `openSession` method from `DocumentStore`.

## Syntax

There are three overloads of `openSession` methods

<TabItem value="open_session_1" label="open_session_1">
<CodeBlock language="java">
{`// Open session for a 'default' database configured in 'DocumentStore'
IDocumentSession openSession();

// Open session for a specified database
IDocumentSession openSession(String database);

IDocumentSession openSession(SessionOptions sessionOptions);
`}
</CodeBlock>
</TabItem>

The first method is an equivalent of doing

<TabItem value="open_session_2" label="open_session_2">
<CodeBlock language="java">
{`store.openSession(new SessionOptions());
`}
</CodeBlock>
</TabItem>

The second method is an equivalent of doing

<TabItem value="open_session_3" label="open_session_3">
<CodeBlock language="java">
{`SessionOptions sessionOptions = new SessionOptions();
sessionOptions.setDatabase(databaseName);
store.openSession(sessionOptions);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **options** | `OpenSessionOptions` | Options **containing** information such as **name of database** and **RequestExecutor**. |

| Return Value | |
| ------------- | ----- |
| IDocumentSession | Instance of a session object. |

## Options

<TabItem value="session_options" label="session_options">
<CodeBlock language="java">
{`private String database;
private boolean noTracking;
private boolean noCaching;
private RequestExecutor requestExecutor;
private TransactionMode transactionMode;

// getters and setters
`}
</CodeBlock>
</TabItem>

| Options | | |
| ------------- | ------------- | ----- |
| **database** | String | Name of database that session should operate on. If `null` then [default database set in DocumentStore](../../client-api/setting-up-default-database.mdx) is used. |
| **noTracking** | boolean | Indicates if session should **not** keep track of the changes. Default: `false`. More [here](../../client-api/session/configuration/how-to-disable-tracking.mdx). |
| **noCaching** | boolean | Indicates if session should **not** cache responses. Default: `false`. More [here](../../client-api/session/configuration/how-to-disable-caching.mdx). |
| **requestExecutor** | `RequestExecutor` | _(Advanced)_ Request executor to use. If `null` default one will be used. |
| **transactionMode** | `TransactionMode` | Sets the mode for the session. By default it is set to `SINGLE_NODE`, but session can also operate 'CLUSTER_WIDE'. You can read more about Cluster-Wide Transactions [here](../../server/clustering/cluster-transactions.mdx). |


## Example I

<TabItem value="open_session_4" label="open_session_4">
<CodeBlock language="java">
{`try (IDocumentSession session = store.openSession()) \{
    // code here
\}
`}
</CodeBlock>
</TabItem>

## Example II - Disabling Entities Tracking

<TabItem value="open_session_tracking_1" label="open_session_tracking_1">
<CodeBlock language="java">
{`SessionOptions sessionOptions = new SessionOptions();
sessionOptions.setNoTracking(true);
try (IDocumentSession session = store.openSession()) \{
    Employee employee1 = session.load(Employee.class, "employees/1-A");
    Employee employee2 = session.load(Employee.class, "employees/1-A");

    // because NoTracking is set to 'true'
    // each load will create a new Employee instance
    Assert.assertNotSame(employee1, employee2);
\}
`}
</CodeBlock>
</TabItem>

## Remarks

<Admonition type="danger" title="Important" id="important" href="#important">
**Always remember to release session allocated resources after usage by invoking the `close` method or wrapping the session object in the `try` statement.**
</Admonition>


</LanguageContent>

<!---
### Client API
- [What is a Session and How Does it Work](../../client-api/session/what-is-a-session-and-how-does-it-work)
- [Storing Entities](../../client-api/session/storing-entities)
- [Loading Entities](../../client-api/session/loading-entities)
- [Saving Changes](../../client-api/session/saving-changes)
- [What is a Document Store](../../client-api/what-is-a-document-store)

### Indexes
- [Querying Basics](../../indexes/querying/basics)

### Session
- [What is a Session and How Does it Work](../../client-api/session/what-is-a-session-and-how-does-it-work)
- [Storing Entities](../../client-api/session/storing-entities)
- [Loading Entities](../../client-api/session/loading-entities)
- [Saving Changes](../../client-api/session/saving-changes)

### Querying
- [Basics](../../indexes/querying/basics)

### Document Store
- [What is a Document Store](../../client-api/what-is-a-document-store)


-->