import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

Entities can be marked for deletion by using the `delete()` method, but will *not* be removed from the server until `saveChanges()` is called.

## Syntax

<TabItem value="deleting_1" label="deleting_1">
<CodeBlock language="js">
{`await session.delete(entity);

await session.delete(id);

await session.delete(id, [changeVector]);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **entity** or **id** | object or string | instance of the entity to delete or the entity ID |
| **changeVector** | string | a change vector to use for concurrency checks |

## Example I

<TabItem value="deleting_2" label="deleting_2">
<CodeBlock language="js">
{`const employee = await session.load("employees/1");

await session.delete(employee);
await session.saveChanges();
`}
</CodeBlock>
</TabItem>

<Admonition type="note" title="Concurrency on Delete" id="concurrency-on-delete" href="#concurrency-on-delete">
If `useOptimisticConcurrency` is set to *true* (default *false*), the `delete()` method will use loaded *employees/1* change vector for concurrency check and might throw `ConcurrencyException`.
</Admonition>

## Example II

<TabItem value="deleting_3" label="deleting_3">
<CodeBlock language="js">
{`await session.delete("employees/1");
await session.saveChanges();
`}
</CodeBlock>
</TabItem>

<Admonition type="note" title="Concurrency on Delete" id="concurrency-on-delete" href="#concurrency-on-delete">
In this example, the `delete()` method will not do any change vector based concurrency checks because the change vector for *employees/1* is unknown.
</Admonition>

<Admonition type="info" title="Information" id="information" href="#information">

If entity is **not** tracked by session, then executing

<TabItem value="deleting_4" label="deleting_4">
<CodeBlock language="js">
{`await session.delete("employees/1");
`}
</CodeBlock>
</TabItem>

is equal to doing

<TabItem value="deleting_5" label="deleting_5">
<CodeBlock language="js">
{`await session.advanced.defer(new DeleteCommandData("employees/1", null));
`}
</CodeBlock>
</TabItem>

<Admonition type="note" title="Change Vector in DeleteCommandData" id="change-vector-in-deletecommanddata" href="#change-vector-in-deletecommanddata">
In this sample the change vector is null - this means that there will be no concurrency checks. A non-null and valid change vector value will trigger a concurrency check. 
</Admonition>

You can read more about defer operations [here](./how-to/defer-operations).

</Admonition>


