---
title: "Query Overview"
sidebar_label: Query Overview
sidebar_position: 0
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/language-switcher";
import LanguageContent from "@site/src/components/language-content";

export const supportedLanguages = ["csharp", "python", "php", "nodejs"];


# Query Overview
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">

<Admonition type="note" title="Note">

* Queries in RavenDB can be written with either of the following:
    * **LINQ** - when querying with the session's `Query` method.  
    * **Low-level API** - when querying with the session's  `DocumentQuery` method.  
    * **RQL**:  
        * when querying with the session's `RawQuery` method.  
        * when querying from the [Query view](../../../studio/database/queries/query-view) in Studio.  

* Queries defined with `Query` or `DocumentQuery` are translated by the RavenDB client to [RQL](../../../client-api/session/querying/what-is-rql)  
  when sent to the server.
* All queries in RavenDB use an **index** to provide results, even when you don't specify one.  
  Learn more [below](../../../client-api/session/querying/how-to-query#queries-always-provide-results-using-an-index).

* Queries that do Not specify which index to use are called **Dynamic Queries**.  
  This article displays examples of dynamic queries only.  
  For examples showing how to query an index see [querying an index](../../../indexes/querying/query-index).
* The entities returned by the query are 'loaded' and **tracked** by the [Session](../../../client-api/session/what-is-a-session-and-how-does-it-work).  
  Entities will Not be tracked when:  
    * Query returns a [projection](../../../client-api/session/querying/how-to-project-query-results)  
    * Tracking is [disabled](../../../client-api/session/configuration/how-to-disable-tracking#disable-tracking-query-results)  

* Query results are **cached** by default. To disable query caching see [NoCaching](../../../client-api/session/querying/how-to-customize-query#nocaching).

* Queries are timed out after a configurable time period.  See [query timeout](../../../server/configuration/database-configuration#databases.querytimeoutinsec).
* In this page:
  * [Queries always provide results using an index](../../../client-api/session/querying/how-to-query#queries-always-provide-results-using-an-index)  
  * [Session.Query](../../../client-api/session/querying/how-to-query#session.query)  
  * [Session.Advanced.DocumentQuery](../../../client-api/session/querying/how-to-query#session.advanced.documentquery)  
  * [Session.Advanced.RawQuery](../../../client-api/session/querying/how-to-query#session.advanced.rawquery)
  * [Custom methods and extensions for LINQ](../../../client-api/session/querying/how-to-query#custom-methods-and-extensions-for-linq)  
  * [Syntax](../../../client-api/session/querying/how-to-query#syntax)  

</Admonition>
## Queries always provide results using an index 

* Queries always use an index to provide fast results regardless of the size of your data.  

* When a query reaches a RavenDB instance, the instance calls its query optimizer to analyze the query  
  and determine which index should be used to retrieve the requested data.
 
* Indexes allow to provide query results without scanning the entire dataset each and every time.  
  * Learn more about indexes, their general concept, and the different **index types** in this [indexes overview](../../../studio/database/indexes/indexes-overview) article.
  * You can choose the underlying **search engine** that will be used by the RavenDB indexes.  
    Learn more in [selecting the search engine](../../../indexes/search-engine/corax#selecting-the-search-engine).

<Admonition type="info" title="Info">

We differentiate between the following **3 query scenarios**:  

   1. [Index query](../../../client-api/session/querying/how-to-query#indexquery)  
   2. [Dynamic query](../../../client-api/session/querying/how-to-query#dynamicquery)  
   3. [Full collection query](../../../client-api/session/querying/how-to-query#collectionquery)

For each scenario, a different index type is used, as described below.

</Admonition>
<Admonition type="note" title="Note">

<a id="indexQuery"/> 
**1. Query an existing index**:

*  **Query type**: Index query  
   **Index used**: Static-index  

* You can specify which **STATIC-index** the query will use.

* Static indexes are defined by the user, as opposed to auto-indexes that are created by the server  
  when querying a collection with some filtering applied. See [Static-index vs Auto-index](../../../studio/database/indexes/indexes-overview#auto-indexes--vs--static-indexes).  

* Example RQL: &nbsp; `from index "Employees/ByFirstName" where FirstName == "Laura"`  
  See more examples in [querying an index](../../../indexes/querying/query-index).

</Admonition>
<Admonition type="note" title="Note">

<a id="dynamicQuery"/> 
**2. Query a collection - with filtering**:  

*  **Query type**: Dynamic Query  
   **Index used**: Auto-index  

* When querying a collection without specifying an index and with some filtering condition  
  (other than just the document ID) the query-optimizer will analyze the query to see if an **AUTO-index**  
  that can answer the query already exists, i.e. an auto-index on the collection queried with index-fields that match those queried.  

* If such auto-index (Not a static one...) is found, it will be used to fetch the results.  

* Else, if no relevant auto-index is found,  
  the query-optimizer will create a new auto-index with fields that match the query criteria.  
  At this time, and only at this time, the query will wait for the auto-indexing process to complete.  
  Subsequent queries that target this auto-index will be served immediately.  

* Note: if there exists an auto-index that is defined on the collection queried  
  but is indexing a different field than the one queried on,  
  then the query-optimizer will create a new auto-index that merges both the  
  fields from the existing auto-index and the new fields queried.

* Once the newly created auto-index is done indexing the data,  
  the old auto-index is removed in favor of the new one.

* Over time, an optimal set of indexes is generated by the query optimizer to answer your queries.

* Example RQL: &nbsp; `from Employees where FirstName == "Laura"`  
  See more examples [below](../../../client-api/session/querying/how-to-query#session.query).
* Note: Counters and Time series are an exception to this flow.  
  Dynamic queries on counters and time series values don't create auto-indexes.  
  However, a static-index can be defined on [Time series](../../../document-extensions/timeseries/indexing) and [Counters](../../../document-extensions/counters/indexing).

</Admonition>
<Admonition type="note" title="Note">

<a id="collectionQuery"/> 
**3. Query a collection - query full collection | query by ID**:  
 
* **Query type**: Full collection Query  
  **Index used**: The raw collection (internal storage indexes)  

* Full collection query:

  * When querying a collection without specifying an index and with no filtering condition,  
    then all documents from the specified collection are returned.

  * RavenDB uses the raw collection documents in its **internal storage indexes** as the source for this query.  
    No auto-index is created.
   
  * Example RQL: &nbsp; `from Employees`

* Query by document ID:
 
  * When querying a collection only by document ID or IDs,  
    then similar to the full collection query, no auto-index is created.  
  
  * RavenDB uses the raw collection documents as the source for this query.  

  * Example RQL: &nbsp; `from Employees where id() == "employees/1-A"`  
    See more examples [below](../../../client-api/session/querying/how-to-query#session.query).

</Admonition>


## Session.Query

* The simplest way to issue a query is by using the session's `Query` method which supports LINQ.  
  Both the LINQ method syntax and the LINQ query syntax are supported.  

* The following examples show **dynamic queries** that do not specify which index to use.  
  Please refer to [querying an index](../../../indexes/querying/query-index) for other examples.

* Querying can be enhanced using these [extension methods](../../../client-api/session/querying/how-to-query#custom-methods-and-extensions-for-linq).
 
<Admonition type="note" title="Note">

**Query collection - no filtering** 

<Tabs groupId='languageSyntax'>
<TabItem value="Method-syntax" label="Method-syntax">
<CodeBlock language="csharp">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

List<Employee> allEmployees = session
    .Query<Employee>() // Query for all documents from 'Employees' collection
    .ToList();         // Execute the query

// All 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Method-syntax_async" label="Method-syntax_async">
<CodeBlock language="csharp">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

List<Employee> allEmployees = await asyncSession
    .Query<Employee>() // Query for all documents from 'Employees' collection
    .ToListAsync();    // Execute the query

// All 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax" label="Query-syntax">
<CodeBlock language="csharp">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

// Query for all documents from 'Employees' collection
IRavenQueryable<Employee> query = from employee in session.Query<Employee>()
                                  select employee;
// Execute the query
List<Employee> allEmployees = query.ToList();

// All 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax_async" label="Query-syntax_async">
<CodeBlock language="csharp">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

// Query for all documents from 'Employees' collection
IRavenQueryable<Employee> query = from employee in asyncSession.Query<Employee>()
                                  select employee;
// Execute the query
List<Employee> allEmployees = await query.ToListAsync();

// All 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// This RQL is a Full Collection Query
// No auto-index is created since no filtering is applied

from "Employees"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - by ID**

<Tabs groupId='languageSyntax'>
<TabItem value="Method-syntax" label="Method-syntax">
<CodeBlock language="csharp">
{`// Query collection by document ID
// No auto-index is created when querying only by ID

Employee employee = session
    .Query<Employee>()
    .Where(x => x.Id == "employees/1-A") // Query for specific document from 'Employees' collection 
    .FirstOrDefault();                   // Execute the query

// The resulting 'Employee' entity is loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Method-syntax_async" label="Method-syntax_async">
<CodeBlock language="csharp">
{`// Query collection by document ID
// No auto-index is created when querying only by ID

Employee employee = await asyncSession
    .Query<Employee>()
    .Where(x => x.Id == "employees/1-A") // Query for specific document from 'Employees' collection 
    .FirstOrDefaultAsync();              // Execute the query

// The resulting 'Employee' entity is loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax" label="Query-syntax">
<CodeBlock language="csharp">
{`// Query collection by document ID
// No auto-index is created when querying only by ID

// Query for specific document from 'Employees' collection 
IRavenQueryable<Employee> query = from employee in session.Query<Employee>()
                                  where employee.Id == "employees/1-A"
                                  select employee;
// Execute the query
Employee employeeResult = query.FirstOrDefault();

// The resulting 'Employee' entity is loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax_async" label="Query-syntax_async">
<CodeBlock language="csharp">
{`// Query collection by document ID
// No auto-index is created when querying only by ID

// Query for specific document from 'Employees' collection 
IRavenQueryable<Employee> query = from employee in asyncSession.Query<Employee>()
                                  where employee.Id == "employees/1-A"
                                  select employee;
// Execute the query
Employee employeeResult = await query.FirstOrDefaultAsync();

// The resulting 'Employee' entity is loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// This RQL queries the 'Employees' collection by ID
// No auto-index is created when querying only by ID

from "Employees" where id() == "employees/1-A"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - with filtering** 

<Tabs groupId='languageSyntax'>
<TabItem value="Method-syntax" label="Method-syntax">
<CodeBlock language="csharp">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

List<Employee> employees = session
    .Query<Employee>()
    .Where(x => x.FirstName == "Robert") // Query for all 'Employee' documents that match this predicate 
    .ToList();                           // Execute the query

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Method-syntax_async" label="Method-syntax_async">
<CodeBlock language="csharp">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

List<Employee> employees = await asyncSession
    .Query<Employee>()
    .Where(x => x.FirstName == "Robert") // Query for all 'Employee' documents that match this predicate 
    .ToListAsync();                      // Execute the query

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax" label="Query-syntax">
<CodeBlock language="csharp">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

// Query for all 'Employee' documents that match the requested predicate 
IRavenQueryable<Employee> query = from employee in session.Query<Employee>()
                                  where employee.FirstName == "Robert"
                                  select employee;
// Execute the query
List<Employee> employees = query.ToList();

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax_async" label="Query-syntax_async">
<CodeBlock language="csharp">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

// Query for all 'Employee' documents that match the requested predicate 
IRavenQueryable<Employee> query = from employee in asyncSession.Query<Employee>()
                                  where employee.FirstName == "Robert"
                                  select employee;
// Execute the query
List<Employee> employees = await query.ToListAsync();

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes the requested field

from "Employees" where FirstName == "Robert"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - with paging** 

<Tabs groupId='languageSyntax'>
<TabItem value="Method-syntax" label="Method-syntax">
<CodeBlock language="csharp">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

List<Product> products = session
    .Query<Product>()
    .Skip(5)   // Skip first 5 results
    .Take(10)  // Load up to 10 entities from 'Products' collection
    .ToList(); // Execute the query

// The resulting 'Product' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Method-syntax_async" label="Method-syntax_async">
<CodeBlock language="csharp">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

List<Product> products = await asyncSession
    .Query<Product>()
    .Skip(5)        // Skip first 5 results
    .Take(10)       // Load up to 10 entities from 'Products' collection
    .ToListAsync(); // Execute the query

// The resulting 'Product' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax" label="Query-syntax">
<CodeBlock language="csharp">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

IRavenQueryable<Product> query = (from product in session.Query<Product>()
                                 select product)
                                 .Skip(5)   // Skip first 5 results
                                 .Take(10); // Load up to 10 entities from 'Products' collection
// Execute the query
List<Product> products = query.ToList();

// The resulting 'Product' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax_async" label="Query-syntax_async">
<CodeBlock language="csharp">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

IRavenQueryable<Product> query = (from product in asyncSession.Query<Product>()
                                 select product)
                                 .Skip(5)   // Skip first 5 results
                                 .Take(10); // Load up to 10 entities from 'Products' collection
// Execute the query
List<Product> products = await query.ToListAsync();

// The resulting 'Product' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

from "Products" limit 5, 10 // skip 5, take 10
`}
</CodeBlock>
</TabItem>
</Tabs>

* By default, if the page size is not specified, all matching records will be retrieved from the database.

</Admonition>



## Session.Advanced.DocumentQuery

* `DocumentQuery` provides a full spectrum of low-level querying capabilities,  
   giving you more flexibility and control when making complex queries.

* Below is a simple _DocumentQuery_ usage.  
  For a full description and more examples see:  
    * [What is a document query](../../../client-api/session/querying/document-query/what-is-document-query)
    * [Query -vs- DocumentQuery](../../../client-api/session/querying/document-query/query-vs-document-query)

**Example**:

<Tabs groupId='languageSyntax'>
<TabItem value="DocumentQuery" label="DocumentQuery">
<CodeBlock language="csharp">
{`// Query with DocumentQuery - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

List<Employee> employees = session
    .Advanced.DocumentQuery<Employee>()      // Use DocumentQuery
    .WhereEquals(x => x.FirstName, "Robert") // Query for all 'Employee' documents that match this predicate 
    .ToList();                               // Execute the query

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="DocumentQuery_async" label="DocumentQuery_async">
<CodeBlock language="csharp">
{`// Query with DocumentQuery - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

List<Employee> employees = await asyncSession
    .Advanced.AsyncDocumentQuery<Employee>() // Use DocumentQuery
    .WhereEquals(x => x.FirstName, "Robert") // Query for all 'Employee' documents that match this predicate 
    .ToListAsync();                          // Execute the query

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes the requested field

from "Employees" where FirstName = "Robert"
`}
</CodeBlock>
</TabItem>
</Tabs>



## Session.Advanced.RawQuery

* Queries defined with [Query](../../../client-api/session/querying/how-to-query#session.query) or [DocumentQuery](../../../client-api/session/querying/how-to-query#session.advanced.documentquery) are translated by the RavenDB client to [RQL](../../../client-api/session/querying/what-is-rql)  
  when sent to the server.

* The session also gives you a way to express the query directly in RQL using the `RawQuery` method.

**Example**:

<Tabs groupId='languageSyntax'>
<TabItem value="RawQuery" label="RawQuery">
<CodeBlock language="csharp">
{`// Query with RawQuery - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

List<Employee> employees = session
     // Provide RQL to RawQuery
    .Advanced.RawQuery<Employee>("from 'Employees' where FirstName = 'Robert'")
     // Execute the query
    .ToList();

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RawQuery_async" label="RawQuery_async">
<CodeBlock language="csharp">
{`// Query with RawQuery - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

List<Employee> employees = await asyncSession
     // Provide RQL to AsyncRawQuery
    .Advanced.AsyncRawQuery<Employee>("from 'Employees' where FirstName = 'Robert'")
     // Execute the query
    .ToListAsync();

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
</Tabs>



## Custom methods and extensions for LINQ

* Available custom methods and extensions for the session's [Query](../../../client-api/session/querying/how-to-query#session.query) method:

   * [AggregateBy](../../../client-api/session/querying/how-to-perform-a-faceted-search)
   * AnyAsync
   * [Count](../../../client-api/session/querying/how-to-count-query-results)
   * [CountLazily](../../../client-api/session/querying/how-to-perform-queries-lazily)
   * [Customize](../../../client-api/session/querying/how-to-customize-query)
   * FirstAsync
   * FirstOrDefaultAsync
   * [GroupByArrayValues](../../../client-api/session/querying/how-to-perform-group-by-query#by-array-values)
   * [GroupByArrayContent](../../../client-api/session/querying/how-to-perform-group-by-query#by-array-content)
   * [Highlight](../../../client-api/session/querying/text-search/highlight-query-results)
   * [Include](../../../client-api/how-to/handle-document-relationships)
   * [Intersect](../../../client-api/session/querying/how-to-use-intersect)
   * [Lazily](../../../client-api/session/querying/how-to-perform-queries-lazily)
   * [LazilyAsync](../../../client-api/session/querying/how-to-perform-queries-lazily)
   * [LongCount](../../../client-api/session/querying/how-to-count-query-results)
   * [MoreLikeThis](../../../client-api/session/querying/how-to-use-morelikethis)
   * [OfType](../../../client-api/session/querying/how-to-project-query-results#oftype-(as)---simple-projection)
   * [OrderByDistance](../../../client-api/session/querying/how-to-make-a-spatial-query#orderbydistance)
   * [OrderByDistanceDescending](../../../client-api/session/querying/how-to-make-a-spatial-query#orderbydistancedesc)
   * [OrderByScore](../../../client-api/session/querying/sort-query-results#order-by-score)
   * [OrderByScoreDescending](../../../client-api/session/querying/sort-query-results#order-by-score)
   * [ProjectInto](../../../client-api/session/querying/how-to-project-query-results)
   * [Search](../../../client-api/session/querying/text-search/full-text-search)
   * SingleAsync
   * SingleOrDefaultAsync
   * [Spatial](../../../client-api/session/querying/how-to-make-a-spatial-query)
   * [Statistics](../../../client-api/session/querying/how-to-get-query-statistics)
   * [SuggestUsing](../../../client-api/session/querying/how-to-work-with-suggestions)
   * ToListAsync
   * ToArrayAsync
   * [VectorSearch](../../../ai-integration/vector-search/vector-search-using-dynamic-query)



## Syntax

<TabItem value="something" label="syntax">
<CodeBlock language="csharp">
{`// Overloads for querying a collection OR an index:
// ================================================

IRavenQueryable<T> Query<T>(string indexName = null, 
    string collectionName = null, bool isMapReduce = false);

IDocumentQuery<T> DocumentQuery<T>(string indexName = null,
    string collectionName = null, bool isMapReduce = false);

// Overloads for querying an index:
// ================================

IRavenQueryable<T> Query<T, TIndexCreator>();

IDocumentQuery<T> DocumentQuery<T, TIndexCreator>();

// RawQuery:
// =========

IRawDocumentQuery<T> RawQuery<T>(string query);
`}
</CodeBlock>
</TabItem>

| Parameter          | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                              |
|--------------------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **T**              | object | &lt;ul&gt;&lt;li&gt;The type of entities queried&lt;/li&gt;&lt;/ul&gt;                                                                                                                                                                                                                                                                                                                                                                             |
| **TIndexCreator**  | string | &lt;ul&gt;&lt;li&gt;The index class type&lt;/li&gt;&lt;/ul&gt;                                                                                                                                                                                                                                                                                                                                                                                   |
| **collectionName** | string | &lt;ul&gt;&lt;li&gt;Name of a collection to query&lt;/li&gt;&lt;li&gt;No need to provide this param when specifying `T`&lt;/li&gt;&lt;li&gt;Specify the collection name when querying a collection that is created<br/> on the fly, i.e. when querying [Artifical Documents](../../../studio/database/indexes/create-map-reduce-index#saving-map-reduce-results-in-a-collection-(artificial-documents))&lt;/li&gt;&lt;li&gt;Mutually exclusive with _indexName_&lt;/li&gt;&lt;/ul&gt; |
| **indexName**      | string | &lt;ul&gt;&lt;li&gt;Name of index to query&lt;/li&gt;&lt;li&gt;Mutually exclusive with _collectionName_&lt;/li&gt;&lt;/ul&gt;                                                                                                                                                                                                                                                                                                                                |
| **isMapReduce**    | string | &lt;ul&gt;&lt;li&gt;Whether querying a map-reduce index&lt;/li&gt;&lt;/ul&gt;                                                                                                                                                                                                                                                                                                                                                                    |
| **query**          | string | &lt;ul&gt;&lt;li&gt;The RQL query string&lt;/li&gt;&lt;/ul&gt;                                                                                                                                                                                                                                                                                                                                                                    |

| Return Value | |
| - | - |
| `IRavenQueryable`<br/>`IDocumentQuery`<br/>`IRawDocumentQuery` | Instances exposing additional query methods and [extensions](../../../client-api/session/querying/how-to-query#custom-methods-and-extensions-for-linq) |
 



</LanguageContent>
<LanguageContent language="python">

<Admonition type="note" title="Note">

* Queries in RavenDB can be written with either of the following:
   * Using a rich API via the session's `query` method  
   * Using the [document_query](../../../client-api/session/querying/document-query/query-vs-document-query) method  
   * Using **RQL** -  
      - when querying via the session's `raw_query` method  
      - when querying from the Studio's [Query view](../../../studio/database/queries/query-view)  

* Queries defined with `query` or `document_query` are translated by the RavenDB client to [RQL](../../../client-api/session/querying/what-is-rql)  
  when sent to the server.
* All queries in RavenDB use an **index** to provide results, even when you don't specify one.  
  Learn more [below](../../../client-api/session/querying/how-to-query#queries-always-provide-results-using-an-index).

* Queries that do Not specify which index to use are called **Dynamic Queries**.  
  This article displays examples of dynamic queries only.  
  For examples showing how to query an index see [querying an index](../../../indexes/querying/query-index).
* The entities returned by the query are 'loaded' and **tracked** by the [Session](../../../client-api/session/what-is-a-session-and-how-does-it-work).  
  Entities will Not be tracked when:  
    * Query returns a [projection](../../../client-api/session/querying/how-to-project-query-results)  
    * Tracking is [disabled](../../../client-api/session/configuration/how-to-disable-tracking#disable-tracking-query-results)  

* Query results are **cached** by default. To disable query caching see [NoCaching](../../../client-api/session/querying/how-to-customize-query#nocaching).

* Queries are timed out after a configurable time period.  See [query timeout](../../../server/configuration/database-configuration#databases.querytimeoutinsec).
* In this page:
  * [Queries always provide results using an index](../../../client-api/session/querying/how-to-query#queries-always-provide-results-using-an-index)  
  * [session.query](../../../client-api/session/querying/how-to-query#session.query)  
  * [session.advanced.document_query](../../../client-api/session/querying/how-to-query#session.advanced.document_query)  
  * [session.advanced.raw_query](../../../client-api/session/querying/how-to-query#session.advanced.raw_query)
  * [Custom methods](../../../client-api/session/querying/how-to-query#custom-methods)  
  * [Syntax](../../../client-api/session/querying/how-to-query#syntax)  

</Admonition>
## Queries always provide results using an index 

* Queries always use an index to provide fast results regardless of the size of your data.

* When a query reaches a RavenDB instance, the instance calls its query optimizer to analyze the query  
  and determine which index should be used to retrieve the requested data.

* Indexes allow to provide query results without scanning the entire dataset each and every time.
    * Learn more about indexes, their general concept, and the different **index types** in this [indexes overview](../../../studio/database/indexes/indexes-overview) article.
    * You can choose the underlying **search engine** that will be used by the RavenDB indexes.  
      Learn more in [selecting the search engine](../../../indexes/search-engine/corax#selecting-the-search-engine).

<Admonition type="info" title="Info">

We differentiate between the following **3 query scenarios**:

1. [Index query](../../../client-api/session/querying/how-to-query#indexquery)
2. [Dynamic query](../../../client-api/session/querying/how-to-query#dynamicquery)
3. [Full collection query](../../../client-api/session/querying/how-to-query#collectionquery)

For each scenario, a different index type is used, as described below.

</Admonition>
<Admonition type="note" title="Note">

<a id="indexQuery"/> 
**1. Query an existing index**:

*  **Query type**: Index query  
   **Index used**: Static-index  

* You can specify which **STATIC-index** the query will use.

* Static indexes are defined by the user, as opposed to auto-indexes that are created by the server  
  when querying a collection with some filtering applied. See [Static-index vs Auto-index](../../../studio/database/indexes/indexes-overview#auto-indexes--vs--static-indexes).  

* Example RQL: &nbsp; `from index "Employees/ByFirstName" where FirstName == "Laura"`  
  See more examples in [querying an index](../../../indexes/querying/query-index).

</Admonition>
<Admonition type="note" title="Note">

<a id="dynamicQuery"/> 
**2. Query a collection - with filtering**:  

*  **Query type**: Dynamic Query  
   **Index used**: Auto-index  

* When querying a collection without specifying an index and with some filtering condition  
  (other than just the document ID) the query-optimizer will analyze the query to see if an **AUTO-index**  
  that can answer the query already exists, i.e. an auto-index on the collection queried with index-fields that match those queried.  

* If such auto-index (Not a static one...) is found, it will be used to fetch the results.  

* Else, if no relevant auto-index is found,  
  the query-optimizer will create a new auto-index with fields that match the query criteria.  
  At this time, and only at this time, the query will wait for the auto-indexing process to complete.  
  Subsequent queries that target this auto-index will be served immediately.  

* Note: if there exists an auto-index that is defined on the collection queried  
  but is indexing a different field than the one queried on,  
  then the query-optimizer will create a new auto-index that merges both the  
  fields from the existing auto-index and the new fields queried.

* Once the newly created auto-index is done indexing the data,  
  the old auto-index is removed in favor of the new one.

* Over time, an optimal set of indexes is generated by the query optimizer to answer your queries.

* Example RQL: &nbsp; `from Employees where FirstName == "Laura"`  
  See more examples [below](../../../client-api/session/querying/how-to-query#session.query).
* Note: Counters and Time series are an exception to this flow.  
  Dynamic queries on counters and time series values don't create auto-indexes.  
  However, a static-index can be defined on [Time series](../../../document-extensions/timeseries/indexing) and [Counters](../../../document-extensions/counters/indexing).

</Admonition>
<Admonition type="note" title="Note">

<a id="collectionQuery"/> 
**3. Query a collection - query full collection | query by ID**:  
 
* **Query type**: Full collection Query  
  **Index used**: The raw collection (internal storage indexes)  

* Full collection query:

  * When querying a collection without specifying an index and with no filtering condition,  
    then all documents from the specified collection are returned.

  * RavenDB uses the raw collection documents in its **internal storage indexes** as the source for this query.  
    No auto-index is created.
   
  * Example RQL: &nbsp; `from Employees`

* Query by document ID:
 
  * When querying a collection only by document ID or IDs,  
    then similar to the full collection query, no auto-index is created.  
  
  * RavenDB uses the raw collection documents as the source for this query.  

  * Example RQL: &nbsp; `from Employees where id() == "employees/1-A"`  
    See more examples [below](../../../client-api/session/querying/how-to-query#session.query).

</Admonition>


## session.query

* The simplest way to issue a query is using session's `query` method.  

* The following examples show **dynamic queries** that do not specify which index to use.  
  Please refer to [querying an index](../../../indexes/querying/query-index) for other examples.

* Querying can be enhanced using these [extension methods](../../../client-api/session/querying/how-to-query#custom-methods-and-extensions-for-linq).
 
<Admonition type="note" title="Note">

**Query collection - no filtering** 

<Tabs groupId='languageSyntax'>
<TabItem value="Method-syntax" label="Method-syntax">
<CodeBlock language="python">
{`# This is a Full Collection Query
# No auto-index is created since no filtering is applied

all_employees = list(  # Execute the query
    session.query(object_type=Employee)  # Query for all documents from 'Employees' collection
)
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax" label="Query-syntax">
<CodeBlock language="python">
{`# This is a Full Collection Query
# No auto-index is created since no filtering is applied

# Query for all documents from 'Employees' collection
query = session.query(object_type=Employee)

# Execute the query
all_employees = list(query)

# All 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// This RQL is a Full Collection Query
// No auto-index is created since no filtering is applied

from "Employees"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - by ID**

<Tabs groupId='languageSyntax'>
<TabItem value="Method-syntax" label="Method-syntax">
<CodeBlock language="python">
{`# Query collection by document ID
# No auto-index is created when querying only by ID

employee = (
    session.query(object_type=Employee)
    .where_equals("Id", "employees/1-A")  # Query for specific document from 'Employees' collection
    .first()  # Execute the query
)

# The resulting 'Employee' entity is loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax" label="Query-syntax">
<CodeBlock language="python">
{`# Query collection by document ID
# No auto-index is created when querying only by ID

# Query for specific document from 'Employees' collection
query = session.query(object_type=Employee).where_equals("Id", "employees/1-A")

# Execute the query
employee_result = query.first()

# The resulting 'Employee' entity is loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// This RQL queries the 'Employees' collection by ID
// No auto-index is created when querying only by ID

from "Employees" where id() == "employees/1-A"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - with filtering** 

<Tabs groupId='languageSyntax'>
<TabItem value="Method-syntax" label="Method-syntax">
<CodeBlock language="python">
{`# Query collection - filter by document field

# An auto-index will be created if there isn't already an existing auto-index
# that indexes this document field

employees = list(  # Execute the query
    session.query(object_type=Employee).where_equals(
        "first_name", "Robert"
    )  # Query for all 'Employee' documents that match this predicate
)

# The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax" label="Query-syntax">
<CodeBlock language="python">
{`# Query collection - filter by document field

# An auto-index will be created if there isn't already an existing auto-index
# that indexes this document field

# Query for all 'Employee' documents that match this predicate
query = session.query(object_type=Employee).where_equals("first_name", "Robert")

# Execute the query
employees = list(query)

# The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes the requested field

from "Employees" where FirstName == "Robert"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - with paging** 

<Tabs groupId='languageSyntax'>
<TabItem value="Method-syntax" label="Method-syntax">
<CodeBlock language="python">
{`# Query collection - page results
# No auto-index is created since no filtering is applied

products = list()  # Execute the query

# The resulting 'Product' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query-syntax" label="Query-syntax">
<CodeBlock language="python">
{`# Query collection - page results
# No auto-index is created since no filtering is applied

query = (
    session.query(object_type=Product).skip(5).take(10)  # Skip first 5 results
)  # Load up to 10 entities from 'Products' collection

# Execute the query
products = list(query)

# The resulting 'Product' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

from "Products" limit 5, 10 // skip 5, take 10
`}
</CodeBlock>
</TabItem>
</Tabs>

* By default, if the page size is not specified, all matching records will be retrieved from the database.

</Admonition>



## session.advanced.document_query

* Below is a simple `document_query` usage sample and its RQL equivalent.  
  For a full description and more examples see:  
   * [What is a document query](../../../client-api/session/querying/document-query/what-is-document-query)
   * [query -vs- document_query](../../../client-api/session/querying/document-query/query-vs-document-query)

**Example**:

<Tabs groupId='languageSyntax'>
<TabItem value="document_query" label="document_query">
<CodeBlock language="python">
{`# Query with document_query - filter by document field

# An auto-index will be created if there isn't already an existing auto-index
# that indexes this document field

employees = list(  # Execute the query
    session.advanced.document_query(object_type=Employee).where_equals(  # Use document_query
        "first_name", "Robert"
    )  # Query for all 'Employee' documents that match this predicate
)

# The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes the requested field

from "Employees" where FirstName = "Robert"
`}
</CodeBlock>
</TabItem>
</Tabs>



## session.advanced.raw_query

* Queries defined with [query](../../../client-api/session/querying/how-to-query#session.query) or [document_query](../../../client-api/session/querying/how-to-query#session.advanced.document_query) are translated by the RavenDB client to [RQL](../../../client-api/session/querying/what-is-rql)  
  when sent to the server.

* The session also gives you a way to express the query directly in RQL using the `raw_query` method.

**Example**:

<Tabs groupId='languageSyntax'>
<TabItem value="RawQuery" label="RawQuery">
<CodeBlock language="python">
{`# Query with RawQuery - filter by document field

# An auto-index will be created if there isn't already an existing auto-index
# that indexes this document field

employees = list(  # Execute the query
    session.advanced.raw_query(
        "from 'Employees' where first_name = 'Robert'", object_type=Employee
    )  # Provide RQL to RawQuery
)
# The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
</Tabs>



## Custom methods

Available custom methods for session's [query](../../../client-api/session/querying/how-to-query#session.query) method:

- [aggregate_by](../../../client-api/session/querying/how-to-perform-a-faceted-search)
- [count](../../../client-api/session/querying/how-to-count-query-results)
- [count_lazily](../../../client-api/session/querying/how-to-perform-queries-lazily)
- [customize](../../../client-api/session/querying/how-to-customize-query)
- [highlight](../../../client-api/session/querying/text-search/highlight-query-results)
- [include](../../../client-api/how-to/handle-document-relationships)
- [intersect](../../../client-api/session/querying/how-to-use-intersect)
- [lazily](../../../client-api/session/querying/how-to-perform-queries-lazily)
- [long_count](../../../client-api/session/querying/how-to-count-query-results)
- [more_like_this](../../../client-api/session/querying/how-to-use-morelikethis)
- [of_type](../../../client-api/session/querying/how-to-project-query-results#oftype-(as)---simple-projection)
- [order_by_distance](../../../client-api/session/querying/how-to-make-a-spatial-query#orderbydistance)
- [order_by_distance_descending](../../../client-api/session/querying/how-to-make-a-spatial-query#orderbydistancedesc)
- [order_by_score](../../../client-api/session/querying/sort-query-results#order-by-score)
- [order_by_score_descending](../../../client-api/session/querying/sort-query-results#order-by-score)
- [project_into](../../../client-api/session/querying/how-to-project-query-results)
- [search](../../../client-api/session/querying/text-search/full-text-search)
- [spatial](../../../client-api/session/querying/how-to-make-a-spatial-query)
- [statistics](../../../client-api/session/querying/how-to-get-query-statistics)
- [suggest_using](../../../client-api/session/querying/how-to-work-with-suggestions)



## Syntax

<TabItem value="something-something" label="syntax">
<CodeBlock language="python">
{`# Overloads for querying a collection OR an index:
# ================================================

def query(
    self, source: Optional[Query] = None, object_type: Optional[Type[_T]] = None
) -> DocumentQuery[_T]:
    ...

def query_collection(
    self, collection_name: str, object_type: Optional[Type[_T]] = None
) -> DocumentQuery[_T]:
    ...

def query_index(self, index_name: str, object_type: Optional[Type[_T]] = None) -> DocumentQuery[_T]:
    ...

def document_query(
    self,
    index_name: str = None,
    collection_name: str = None,
    object_type: Type[_T] = None,
    is_map_reduce: bool = False,
) -> DocumentQuery[_T]:
    ...

# Overloads for querying an index:
# ================================
def query_index_type(
    self, index_type: Type[_TIndex], object_type: Optional[Type[_T]] = None
) -> DocumentQuery[_T]:
    ...

def document_query_from_index_type(
    self, index_type: Type[_TIndex], object_type: Type[_T]
) -> DocumentQuery[_T]:
    ...

# RawQuery
# ================================
def raw_query(self, query: str, object_type: Optional[Type[_T]] = None) -> RawDocumentQuery[_T]:
    ...
`}
</CodeBlock>
</TabItem>


| Parameter | Type | Description |
|--------------------|--------|------------------------------------------|
| **object_type** | `Type[_T]` | Queried entities type |
| **collection_name** | `str` | Queried collection name |
| **query** | `str` | RQL query string |
| **index_name** | `str` | Queried index name |
| **index_type** | `Type[_TIndex]` | Queried index type |
| **is_map_reduce** | `bool` | Is a map-reduce index queried |

| Return Value | |
| - | - |
| `DocumentQuery[_T]`<br/>`RawDocumentQuery[_T]` | Instances exposing additional query methods and [extensions](../../../client-api/session/querying/how-to-query#custom-methods-and-extensions-for-linq) |
 



</LanguageContent>
<LanguageContent language="php">

<Admonition type="note" title="Note">

* PHP Queries can be written -  
    * Using the session's `query` method  
    * Using the session's `documentQuery` method  
    * Using **RQL**:  
        * via the session's `rawQuery` method  
        * via the Studio's [Query view](../../../studio/database/queries/query-view)  

* Queries defined using `query` or `documentQuery` are translated by the RavenDB client 
  to [RQL](../../../client-api/session/querying/what-is-rql) when sent to the server.  
* All RavenDB queries use an **index** to provide results, even when an index is not explicitly defined.  
  Learn more [below](../../../client-api/session/querying/how-to-query#queries-always-provide-results-using-an-index).

* Queries that do Not specify which index to use are called **Dynamic Queries**.  
  This article shows examples of dynamic queries only.  
  For index query examples see [querying an index](../../../indexes/querying/query-index).
* The entities returned by the query are 'loaded' and **tracked** by the [session](../../../client-api/session/what-is-a-session-and-how-does-it-work).  
  Entities will Not be tracked when:  
    * Query returns a [projection](../../../client-api/session/querying/how-to-project-query-results)  
    * Tracking is [disabled](../../../client-api/session/querying/how-to-customize-query#notracking)  

* Query results are **cached** by default.  
  To disable query caching see [NoCaching](../../../client-api/session/querying/how-to-customize-query#nocaching).

* Queries are timed out after a configurable time period.  
  See [query timeout](../../../server/configuration/database-configuration#databases.querytimeoutinsec).
* In this page:
  * [Queries always provide results using an index](../../../client-api/session/querying/how-to-query#queries-always-provide-results-using-an-index)  
  * [session.query](../../../client-api/session/querying/how-to-query#session.query)  
  * [session.advanced.documentQuery](../../../client-api/session/querying/how-to-query#session.advanced.documentquery)  
  * [session.advanced.rawQuery](../../../client-api/session/querying/how-to-query#session.advanced.rawquery)
  * [Custom methods](../../../client-api/session/querying/how-to-query#custom-methods)  
  * [Syntax](../../../client-api/session/querying/how-to-query#syntax)  

</Admonition>
## Queries always provide results using an index 

* Queries always use an index to provide fast results regardless of the size of your data.

* When a query reaches a RavenDB instance, the instance calls its query optimizer to analyze the query  
  and determine which index should be used to retrieve the requested data.

* Indexes allow to provide query results without scanning the entire dataset each and every time.
    * Learn more about indexes, their general concept, and the different **index types** in this [indexes overview](../../../studio/database/indexes/indexes-overview) article.
    * You can choose the underlying **search engine** that will be used by the RavenDB indexes.  
      Learn more in [selecting the search engine](../../../indexes/search-engine/corax#selecting-the-search-engine).

<Admonition type="info" title="Info">

We differentiate between the following **3 query scenarios**:

1. [Index query](../../../client-api/session/querying/how-to-query#indexquery)
2. [Dynamic query](../../../client-api/session/querying/how-to-query#dynamicquery)
3. [Full collection query](../../../client-api/session/querying/how-to-query#collectionquery)

For each scenario, a different index type is used, as described below.

</Admonition>
<Admonition type="note" title="Note">

<a id="indexQuery"/> 
**1. Query an existing index**:

*  **Query type**: Index query  
   **Index used**: Static-index  

* You can specify which **STATIC-index** the query will use.

* Static indexes are defined by the user, as opposed to auto-indexes that are created by the server  
  when querying a collection with some filtering applied. See [Static-index vs Auto-index](../../../studio/database/indexes/indexes-overview#auto-indexes--vs--static-indexes).  

* Example RQL: &nbsp; `from index "Employees/ByFirstName" where FirstName == "Laura"`  
  See more examples in [querying an index](../../../indexes/querying/query-index).

</Admonition>
<Admonition type="note" title="Note">

<a id="dynamicQuery"/> 
**2. Query a collection - with filtering**:  

*  **Query type**: Dynamic Query  
   **Index used**: Auto-index  

* When querying a collection without specifying an index and with some filtering condition  
  (other than just the document ID) the query-optimizer will analyze the query to see if an **AUTO-index**  
  that can answer the query already exists, i.e. an auto-index on the collection queried with index-fields that match those queried.  

* If such auto-index (Not a static one...) is found, it will be used to fetch the results.  

* Else, if no relevant auto-index is found,  
  the query-optimizer will create a new auto-index with fields that match the query criteria.  
  At this time, and only at this time, the query will wait for the auto-indexing process to complete.  
  Subsequent queries that target this auto-index will be served immediately.  

* Note: if there exists an auto-index that is defined on the collection queried  
  but is indexing a different field than the one queried on,  
  then the query-optimizer will create a new auto-index that merges both the  
  fields from the existing auto-index and the new fields queried.

* Once the newly created auto-index is done indexing the data,  
  the old auto-index is removed in favor of the new one.

* Over time, an optimal set of indexes is generated by the query optimizer to answer your queries.

* RQL Example: &nbsp; `from Employees where FirstName == "Laura"`  
  See more examples [below](../../../client-api/session/querying/how-to-query#session.query).
* Note: Counters and Time series are an exception to this flow.  
  Dynamic queries on counters and time series values don't create auto-indexes.  
  However, a static-index can be defined on [Time series](../../../document-extensions/timeseries/indexing) 
  and [Counters](../../../document-extensions/counters/indexing).

</Admonition>
<Admonition type="note" title="Note">

<a id="collectionQuery"/> 
**3. Query a collection - query full collection | query by ID**:  
 
* **Query type**: Full collection Query  
  **Index used**: The raw collection (internal storage indexes)  

* Full collection query:

  * When querying a collection without specifying an index and with no filtering condition,  
    then all documents from the specified collection are returned.

  * RavenDB uses the raw collection documents in its **internal storage indexes** as the source for this query.  
    No auto-index is created.
   
  * Example RQL: &nbsp; `from Employees`

* Query by document ID:
 
  * When querying a collection only by document ID or IDs,  
    then similar to the full collection query, no auto-index is created.  
  
  * RavenDB uses the raw collection documents as the source for this query.  

  * Example RQL: &nbsp; `from Employees where id() == "employees/1-A"`  
    See more examples [below](../../../client-api/session/querying/how-to-query#session.query).

</Admonition>


## session.query

* The simplest way to issue a query is by using the session's `query` method which supports LINQ.  
  Both the LINQ method syntax and the LINQ query syntax are supported.  

* The following examples show **dynamic queries** that do not specify which index to use.  
  Please refer to [querying an index](../../../indexes/querying/query-index) for other examples.

* Querying can be enhanced using these [extension methods](../../../client-api/session/querying/how-to-query#custom-methods-and-extensions-for-linq).
 
<Admonition type="note" title="Note">

**Query collection - no filtering** 

<Tabs groupId='languageSyntax'>
<TabItem value="Php" label="Php">
<CodeBlock language="php query_1_1@clientapi\session\querying\howtoquery.php /}">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

$allEmployees = $session
    ->query(Employee::class)  // Query for all documents from 'Employees' collection
    ->toList();                         // Execute the query

// All 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// This RQL is a Full Collection Query
// No auto-index is created since no filtering is applied

from "Employees"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - by ID**

<Tabs groupId='languageSyntax'>
<TabItem value="Php" label="Php">
<CodeBlock language="php query_2_1@clientapi\session\querying\howtoquery.php /}">
{`// Query collection by document ID
// No auto-index is created when querying only by ID

$employee = $session
    ->query(Employee::class)
    ->whereEquals("Id", "employees/1-A") // Query for specific document from 'Employees' collection
    ->firstOrDefault();                                 // Execute the query

// The resulting 'Employee' entity is loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// This RQL queries the 'Employees' collection by ID
// No auto-index is created when querying only by ID

from "Employees" where id() == "employees/1-A"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - with filtering** 

<Tabs groupId='languageSyntax'>
<TabItem value="Php" label="Php">
<CodeBlock language="php query_3_1@clientapi\session\querying\howtoquery.php /}">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

$employees = $session
    ->query(Employee::class)
    ->whereEquals("FirstName", "Robert") // Query for all 'Employee' documents that match this predicate
    ->ToList();                                         // Execute the query

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes the requested field

from "Employees" where FirstName == "Robert"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - with paging** 

<Tabs groupId='languageSyntax'>
<TabItem value="Method-syntax" label="Method-syntax">
<CodeBlock language="php">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

$products = $session
    ->query(Product::class)
    ->skip(5)   // Skip first 5 results
    ->take(10)  // Load up to 10 entities from 'Products' collection
    ->toList(); // Execute the query

// The resulting 'Product' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

from "Products" limit 5, 10 // skip 5, take 10
`}
</CodeBlock>
</TabItem>
</Tabs>

* By default, if the page size is not specified, all matching records will be retrieved from the database.

</Admonition>



## session.advanced.documentQuery

* `documentQuery` provides a full spectrum of low-level querying capabilities,  
   giving you more flexibility and control when making complex queries.

* Below is a simple _DocumentQuery_ usage.  
  For a full description and more examples see:  
    * [What is a document query](../../../client-api/session/querying/document-query/what-is-document-query)
    * [query -vs- documentQuery](../../../client-api/session/querying/document-query/query-vs-document-query)

**Example**:

<Tabs groupId='languageSyntax'>
<TabItem value="Php" label="Php">
<CodeBlock language="php query_5_1@clientapi\session\querying\howtoquery.php /}">
{`// Query with DocumentQuery - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

$employees = $session
    ->advanced()->documentQuery(Employee::class) // Use DocumentQuery
    ->whereEquals("FirstName", "Robert")    // Query for all 'Employee' documents that match this predicate
    ->toList();                                            // Execute the query

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes the requested field

from "Employees" where FirstName = "Robert"
`}
</CodeBlock>
</TabItem>
</Tabs>



## session.advanced.rawQuery

* Queries defined with [query](../../../client-api/session/querying/how-to-query#session.query) 
  or [documentQuery](../../../client-api/session/querying/how-to-query#session.advanced.documentquery) 
  are translated by the RavenDB client to [RQL](../../../client-api/session/querying/what-is-rql)  
  when sent to the server.

* The session also gives you a way to express the query directly in RQL using the `rawQuery` method.

**Example**:

<TabItem value="something-something" label="query_6_1">
<CodeBlock language="php">
{`// Query with RawQuery - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

$employees = $session
    // Provide RQL to RawQuery
    ->advanced()->rawQuery(Employee::class, "from 'Employees' where FirstName = 'Robert'")
    // Execute the query
    ->toList();

// The resulting 'Employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>



## Custom methods

Available custom methods for session's [query](../../../client-api/session/querying/how-to-query#session.query) method:

- [aggregateBy](../../../client-api/session/querying/how-to-perform-a-faceted-search)
- [count](../../../client-api/session/querying/how-to-count-query-results)
- [countLazily](../../../client-api/session/querying/how-to-perform-queries-lazily)
- [customize](../../../client-api/session/querying/how-to-customize-query)
- [highlight](../../../client-api/session/querying/text-search/highlight-query-results)
- [include](../../../client-api/how-to/handle-document-relationships)
- [intersect](../../../client-api/session/querying/how-to-use-intersect)
- [lazily](../../../client-api/session/querying/how-to-perform-queries-lazily)
- [longCount](../../../client-api/session/querying/how-to-count-query-results)
- [moreLikeThis](../../../client-api/session/querying/how-to-use-morelikethis)
- [ofType](../../../client-api/session/querying/how-to-project-query-results#oftype-(as)---simple-projection)
- [orderByDistance](../../../client-api/session/querying/how-to-make-a-spatial-query#orderbydistance)
- [orderByDistanceDescending](../../../client-api/session/querying/how-to-make-a-spatial-query#orderbydistancedesc)
- [orderByScore](../../../client-api/session/querying/sort-query-results#order-by-score)
- [orderByScoreDescending](../../../client-api/session/querying/sort-query-results#order-by-score)
- [projectInto](../../../client-api/session/querying/how-to-project-query-results)
- [search](../../../client-api/session/querying/text-search/full-text-search)
- [spatial](../../../client-api/session/querying/how-to-make-a-spatial-query)
- [statistics](../../../client-api/session/querying/how-to-get-query-statistics)
- [suggestUsing](../../../client-api/session/querying/how-to-work-with-suggestions)



## Syntax

<TabItem value="something-something" label="syntax">
<CodeBlock language="php">
{`// Methods for querying a collection OR an index:
// ================================================

public function query(?string $className, $collectionOrIndexName = null): DocumentQueryInterface;

public function documentQuery(?string $className, $indexNameOrClass = null, ?string $collectionName = null, bool $isMapReduce = false): DocumentQueryInterface;

// RawQuery:
// =========
public function rawQuery(?string $className, string $query): RawDocumentQueryInterface;
`}
</CodeBlock>
</TabItem>

| Parameter          | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                              |
|--------------------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **$className** | `string` | The name of the class to query |
| **$collectionOrIndexName** | `?string` | The name of the collection or index to query |
| **$indexNameOrClass** | `?string` | The name or class of the index to query |
| **$collectionName** | `?string` | The name of the collection to query |
| **$isMapReduce** | `bool` | Whether querying a map-reduce index |
| **$query** |`string` | The RQL query string |

| Return Value | |
| - | - |
| `DocumentQueryInterface`<br/>`RawDocumentQueryInterface` | Interfaces exposing additional query methods and [extensions](../../../client-api/session/querying/how-to-query#custom-methods) |
 



</LanguageContent>
<LanguageContent language="nodejs">

<Admonition type="note" title="Note">

* Queries in RavenDB can be written with:
    * The session's `query` method - rich API is provided
    * The session's  `rawQuery` method - using RQL
    * The [Query view](../../../studio/database/queries/query-view) in Studio - using RQL

* Queries defined with the `query` method are translated by the RavenDB client to [RQL](../../../client-api/session/querying/what-is-rql)  
  when sent to the server.
* All queries in RavenDB use an **index** to provide results, even when you don't specify one.  
  Learn more [below](../../../client-api/session/querying/how-to-query#queries-always-provide-results-using-an-index).

* Queries that do Not specify which index to use are called **Dynamic Queries**.  
  This article displays examples of dynamic queries only.  
  For examples showing how to query an index see [querying an index](../../../indexes/querying/query-index).
* The entities returned by the query are 'loaded' and **tracked** by the [Session](../../../client-api/session/what-is-a-session-and-how-does-it-work).  
  Entities will Not be tracked when:  
    * Query returns a [projection](../../../client-api/session/querying/how-to-project-query-results)  
    * Tracking is [disabled](../../../client-api/session/configuration/how-to-disable-tracking#disable-tracking-query-results)  

* Query results are **cached** by default. To disable query caching see [noCaching](../../../client-api/session/querying/how-to-customize-query#nocaching).  

* Queries are timed out after a configurable time period.  See [query timeout](../../../server/configuration/database-configuration#databases.querytimeoutinsec).
* In this page:
  * [Queries always provide results using an index](../../../client-api/session/querying/how-to-query#queries-always-provide-results-using-an-index)  
  * [session.query](../../../client-api/session/querying/how-to-query#session.query)  
  * [session.advanced.rawQuery](../../../client-api/session/querying/how-to-query#session.advanced.rawquery)
  * [query API](../../../client-api/session/querying/how-to-query#query-api)  
  * [Syntax](../../../client-api/session/querying/how-to-query#syntax)

</Admonition>
## Queries always provide results using an index 

* Queries always use an index to provide fast results regardless of the size of your data.

* When a query reaches a RavenDB instance, the instance calls its query optimizer to analyze the query  
  and determine which index should be used to retrieve the requested data.

* Indexes allow to provide query results without scanning the entire dataset each and every time.
    * Learn more about indexes, their general concept, and the different **index types** in this [indexes overview](../../../studio/database/indexes/indexes-overview) article.
    * You can choose the underlying **search engine** that will be used by the RavenDB indexes.  
      Learn more in [selecting the search engine](../../../indexes/search-engine/corax#selecting-the-search-engine).

<Admonition type="info" title="Info">

We differentiate between the following **3 query scenarios**:

1. [Index query](../../../client-api/session/querying/how-to-query#indexquery)
2. [Dynamic query](../../../client-api/session/querying/how-to-query#dynamicquery)
3. [Full collection query](../../../client-api/session/querying/how-to-query#collectionquery)

For each scenario, a different index type is used, as described below.

</Admonition>
<Admonition type="note" title="Note">

<a id="indexQuery"/> 
**1. Query an existing index**:

*  **Query type**: Index query  
   **Index used**: Static-index

* You can specify which **STATIC-static index** the query will use.

* Static indexes are defined by the user, as opposed to auto-indexes that are created by the server  
  when querying a collection with some filtering applied. See [Static-index vs Auto-index](../../../studio/database/indexes/indexes-overview#auto-indexes--vs--static-indexes).

* Example RQL: &nbsp; `from index "Employees/ByFirstName" where FirstName == "Laura"`  
  See more examples in [querying an index](../../../indexes/querying/query-index).

</Admonition>
<Admonition type="note" title="Note">

<a id="dynamicQuery"/> 
**2. Query a collection - with filtering (Dynamic Query)**:

*  **Query type**: Dynamic Query  
   **Index used**: Auto-index

* When querying a collection without specifying an index and with some filtering condition  
  (other than just the document ID) the query-optimizer will analyze the query to see if an **AUTO-index**  
  that can answer the query already exists, i.e. an auto-index on the collection queried with index-fields that match those queried.

* If such auto-index (Not a static one...) is found, it will be used to fetch the results.

* Else, if no relevant auto-index is found,  
  the query-optimizer will create a new auto-index with fields that match the query criteria.  
  At this time, and only at this time, the query will wait for the auto-indexing process to complete.  
  Subsequent queries that target this auto-index will be served immediately.

* Note: if there exists an auto-index that is defined on the collection queried  
  but is indexing a different field than the one queried on,  
  then the query-optimizer will create a new auto-index that merges both the  
  fields from the existing auto-index and the new fields queried.

* Once the newly created auto-index is done indexing the data,  
  the old auto-index is removed in favor of the new one.

* Over time, an optimal set of indexes is generated by the query optimizer to answer your queries.

* Example RQL: &nbsp; `from Employees where FirstName == "Laura"`  
  See more examples [below](../../../client-api/session/querying/how-to-query#session.query).
* Note: Counters and Time series are an exception to this flow.  
  Dynamic queries on counters and time series values don't create auto-indexes.  
  However, a static-index can be defined on [Time series](../../../document-extensions/timeseries/indexing) and [Counters](../../../document-extensions/counters/indexing).

</Admonition>
<Admonition type="note" title="Note">

<a id="collectionQuery"/> 
**3. Query a collection - no filtering**:

* **Query type**: Full collection Query  
  **Index used**: The raw collection (internal storage indexes)

* Full collection query:

  * When querying a collection without specifying an index and with no filtering condition,  
    then all documents from the specified collection are returned.

  * RavenDB uses the raw collection documents in its **internal storage indexes** as the source for this query.  
    No auto-index is created.

  * Example RQL: &nbsp; `from Employees`

* Query by document ID:
 
  * When querying a collection only by document ID or IDs,  
    then similar to the full collection query, no auto-index is created.  
  
  * RavenDB uses the raw collection documents as the source for this query.
  
  * Example RQL: &nbsp; `from Employees where id() == "employees/1-A"`  
    See more examples [below](../../../client-api/session/querying/how-to-query#session.query).

</Admonition>


## session.query

* The simplest way to issue a query is by using the session's `query` method.    
  Customize your query with these [API methods](../../../client-api/session/querying/how-to-query#query-api).

* The following examples show **dynamic queries** that do not specify which index to use.  
  Please refer to [querying an index](../../../indexes/querying/query-index) for other examples.

<Admonition type="note" title="Note">

**Query collection - no filtering** 

<Tabs groupId='languageSyntax'>
<TabItem value="Query" label="Query">
<CodeBlock language="nodejs">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

// Query for all documents from 'employees' collection
const employees = await session.query({ collection: "employees" })
    // Execute the query
    .all();

// All 'employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query_overload" label="Query_overload">
<CodeBlock language="nodejs">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

// Query for all documents from 'employees' collection
const employees = await session.query(Employee)
    // Execute the query
    .all();

// All 'employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// This RQL is a Full Collection Query
// No auto-index is created since no filtering is applied

from "employees"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - by ID**

<Tabs groupId='languageSyntax'>
<TabItem value="Query" label="Query">
<CodeBlock language="nodejs">
{`// Query collection by document ID
// No auto-index is created when querying only by ID

const employee = await session.query({ collection: "employees" })
    .whereEquals("id()", "employees/1-A") // Query for specific document from 'employees' collection 
    .first();                             // Execute the query

// The resulting 'employee' entity is loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query_overload" label="Query_overload">
<CodeBlock language="nodejs">
{`// Query collection by document ID
// No auto-index is created when querying only by ID

const employee = await session.query(Employee)
    .whereEquals("id()", "employees/1-A") // Query for specific document from 'employees' collection 
    .first();                             // Execute the query

// The resulting 'employee' entity is loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// This RQL queries the 'Employees' collection by ID
// No auto-index is created when querying only by ID

from "employees" where id() == "employees/1-A"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - with filtering** 

<Tabs groupId='languageSyntax'>
<TabItem value="Query" label="Query">
<CodeBlock language="nodejs">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

const employees = await session.query({ collection: "employees" })
    .whereEquals("firstName", "Robert") // Query for all 'employee' documents that match this predicate 
    .all();                             // Execute the query

// The resulting 'employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query_overload" label="Query_overload">
<CodeBlock language="nodejs">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

const employees = await session.query(Employee)
    .whereEquals("firstName", "Robert") // Query for all 'employee' documents that match this predicate 
    .all();                             // Execute the query

// The resulting 'employee' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes the requested field

from "employees" where firstName == "Robert"
`}
</CodeBlock>
</TabItem>
</Tabs>

</Admonition>

<Admonition type="note" title="Note">

**Query collection - with paging** 

<Tabs groupId='languageSyntax'>
<TabItem value="Query" label="Query">
<CodeBlock language="nodejs">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

const products = await session.query({ collection: "products" })
    .skip(5)  // Skip first 5 results
    .take(10) // Load up to 10 entities from 'products' collection
    .all();   // Execute the query

// The resulting 'product' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="Query_overload" label="Query_overload">
<CodeBlock language="nodejs">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

const products = await session.query(Employee)
    .skip(5)  // Skip first 5 results
    .take(10) // Load up to 10 entities from 'products' collection
    .all();   // Execute the query

// The resulting 'product' entities are loaded and will be tracked by the session
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`// Query collection - page results
// No auto-index is created since no filtering is applied

from "products" limit 5, 10 // skip 5, take 10
`}
</CodeBlock>
</TabItem>
</Tabs>

* By default, if the page size is not specified, all matching records will be retrieved from the database.

</Admonition>



## session.advanced.rawQuery

* Queries defined with [query](../../../client-api/session/querying/how-to-query#session.query) are translated by the RavenDB client to [RQL](../../../client-api/session/querying/what-is-rql) when sent to the server.  

* The session also gives you a way to express the query directly in RQL using the `rawQuery` method.

**Example**:

<TabItem value="something-something" label="query_5">
<CodeBlock language="nodejs">
{`// Query with rawQuery - filter by document field

// An auto-index will be created if there isn't already an existing auto-index
// that indexes this document field

const employees = await session.advanced
     // Provide RQL to rawQuery
    .rawQuery("from employees where firstName = 'Robert'")
     // Execute the query
    .all();

// The resulting 'employee' entities are loaded and will be tracked by the session 
`}
</CodeBlock>
</TabItem>



## query API

Available methods for the session's [query](../../../client-api/session/querying/how-to-query#session.query) method:

- addOrder
- addParameter
- aggregateBy
- aggregateUsing
- andAlso
- any
- [boost](../../../client-api/session/querying/text-search/boost-search-results)
- closeSubclause
- containsAll
- containsAny
- [count](../../../client-api/session/querying/how-to-count-query-results)
- [countLazily](../../../client-api/session/querying/how-to-perform-queries-lazily#lazy-count-query)
- distinct
- first
- firstOrNull
- fuzzy
- getIndexQuery
- getQueryResult
- [groupBy](../../../client-api/session/querying/how-to-perform-group-by-query)
- [highlight](../../../client-api/session/querying/text-search/highlight-query-results)
- include
- [includeExplanations](../../../client-api/session/querying/debugging/include-explanations)
- [intersect](../../../client-api/session/querying/how-to-use-intersect)
- lazily
- [longCount](../../../client-api/session/querying/how-to-count-query-results)
- [moreLikeThis](../../../client-api/session/querying/how-to-use-morelikethis)
- negateNext
- [noCaching](../../../client-api/session/querying/how-to-customize-query#nocaching)
- [noTracking](../../../client-api/session/querying/how-to-customize-query#notracking)
- not
- [ofType](../../../client-api/session/querying/how-to-project-query-results#oftype)
- [on("afterQueryExecuted")](../../../client-api/session/querying/how-to-customize-query#on-("afterqueryexecuted"))
- [on("beforeQueryExecuted")](../../../client-api/session/querying/how-to-customize-query#on-("beforequeryexecuted"))
- openSubclause
- [orderBy](../../../client-api/session/querying/sort-query-results)
- [orderByDescending](../../../client-api/session/querying/sort-query-results)
- [orderByDistance](../../../client-api/session/querying/how-to-make-a-spatial-query#orderbydistance)
- [orderByDistanceDescending](../../../client-api/session/querying/how-to-make-a-spatial-query#orderbydistancedesc)
- [orderByScore](../../../client-api/session/querying/sort-query-results#order-by-score)
- [orderByScoreDescending](../../../client-api/session/querying/sort-query-results#order-by-score)
- orElse
- proximity
- [randomOrdering](../../../client-api/session/querying/how-to-customize-query#randomordering)
- relatesToShape
- search
- [selectFields](../../../indexes/querying/projections#selectfields)
- selectTimeSeries
- single
- singleOrNull
- skip
- spatial
- [statistics](../../../client-api/session/querying/how-to-get-query-statistics)
- [suggestUsing](../../../client-api/session/querying/how-to-work-with-suggestions)
- take
- timings
- usingDefaultOperator
- [waitForNonStaleResults](../../../client-api/session/querying/how-to-customize-query#waitfornonstaleresults)
- whereBetween
- [whereEndsWith](../../../client-api/session/querying/text-search/ends-with-query)
- whereEquals
- [whereExists](../../../client-api/session/querying/how-to-filter-by-field)
- whereGreaterThan
- whereGreaterThanOrEqual
- whereIn
- whereLessThan
- whereLessThanOrEqual
- [whereLucene](../../../client-api/session/querying/document-query/how-to-use-lucene)
- whereNotEquals
- [whereRegex](../../../client-api/session/querying/text-search/using-regex)
- [whereStartsWith](../../../client-api/session/querying/text-search/starts-with-query)
- withinRadiusOf



## Syntax

<TabItem value="something-something" label="syntax">
<CodeBlock language="nodejs">
{`// Overload for querying a collection:
session.query(documentType);

// Overload for querying an index:
session.query(documentType, index);

// Overload for querying a collection OR an index:
session.query(opts);

// rawQuery:
session.rawQuery(query);
`}
</CodeBlock>
</TabItem>

| Parameter        | Type                          | Description                  |
|------------------|-------------------------------|------------------------------|
| **documentType** | object                        | The type of entities queried |
| **index**        | object                        | The index class              |
| **opts**         | `DocumentQueryOptions` object | Query options                |
| **query**        | string                        | The RQL query string         |

| `DocumentQueryOptions` | | |
| - | - | - |
|  **collection** | string | &lt;ul&gt;&lt;li&gt;Collection name queried&lt;/li&gt;&lt;/ul&gt; |
|  **indexName** | string | &lt;ul&gt;&lt;li&gt;Index name queried&lt;/li&gt;&lt;/ul&gt; |
|  **index** | object | &lt;ul&gt;&lt;li&gt;Index object queried&lt;/li&gt;&lt;li&gt;Note:<br/>`indexName` & `index` are mutually exclusive with `collection`.<br/>See examples in [querying an index](../../../indexes/querying/query-index).&lt;/li&gt;&lt;/ul&gt; |

| Return Value | |
| - | - |
| `object` | Instance implementing `IDocumentQuery` exposing the additional [query methods](../../../client-api/session/querying/how-to-query#query-api). |

* Note:  
  Use `await` when executing the query, e.g. when calling `.all`, `.single`, `.first`, `.count`, etc.  



</LanguageContent>