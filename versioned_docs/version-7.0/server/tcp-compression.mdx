---
title: "TCP Compression"
sidebar_label: TCP Compression
sidebar_position: 10
hide_table_of_contents: true
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

# TCP Compression
<Admonition type="note" title="Note">

* With **TCP Compression** enabled, internal cluster data transfers 
  are compressed, including nodes' 
  [database replication](../server/clustering/replication/replication.mdx)
  and the data submitted by 
  [Data Subscriptions](../client-api/data-subscriptions/what-are-data-subscriptions.mdx) 
  to their workers.  

* Especially on the cloud, the significant reduction in the amount of transferred 
  data translates to a significant reduction of costs.  
  

* In this page:  
  * [TCP Compression](../server/tcp-compression.mdx#tcp-compression)  
  * [Compression Algorithm and Ratio](../server/tcp-compression.mdx#compression-algorithm-and-ratio)  
  * [Enabling TCP Compression](../server/tcp-compression.mdx#enabling-tcp-compression)  
  * [Disabling TCP Compression](../server/tcp-compression.mdx#disabling-tcp-compression)  

</Admonition>
## TCP Compression

RavenDB offers a variety of compression tools, including the compression 
of [stored documents](../server/storage/documents-compression.mdx) and 
[backups](../server/ongoing-tasks/backup-overview.mdx#compression).  

With the **TCP compression** feature enabled, data **in transit** is compressed as well.  

* RavenDB will compress data before [replicating](../server/clustering/replication/replication.mdx) 
  it from one cluster node to another.  
  Replication makes a large portion of a cluster's traffic, and compressing 
  replicated data will minimize the traffic volume and expedite data delivery.  

* [Data Subscriptions](../client-api/data-subscriptions/what-are-data-subscriptions.mdx) 
  will also transfer compressed data to their workers.  
  Data subscriptions are used to automate documents processing, 
  and may transfer large quantities of documents on a regular basis. 
  Compressing the data they submit can reduce the traffic volume 
  and the costs of such automated routines considerably.  

## Compression Algorithm and Ratio

* TCP Compression uses the [Zstandard compression algorithm](https://en.wikipedia.org/wiki/Zstandard), 
  continuously learning your data model to create dictionaries that represent the redundant 
  structural data across transferred documents.  

* Compression ratio tends to ascend as the size of the transferred data grows, 
  and may **top 85%** for big data transfers.  

## Enabling TCP Compression

Your server's [license](../start/licensing/licensing-overview.mdx) type determines whether 
TCP compression, among other features, is activated.  
No additional configuration is needed to enable this feature.  

![License (Studio View)](./assets/tcp-compression-license.png)
### Disabling TCP Compression

* TCP Compression can be disabled by a client, using the client API 
  DocumentStore `DocumentConventions.DisableTcpCompression ` convention.  
<TabItem value="DisableTcpCompression" label="DisableTcpCompression">
<CodeBlock language="csharp">
{`using (var store = new DocumentStore())
\{
    var DocumentConventions = new DocumentConventions
    \{
        // Disable TCP Compression 
        DisableTcpCompression = true
    \};
\}
`}
</CodeBlock>
</TabItem>

* TCP Compression can also be disabled server-wide, using the 
  server [Server.Tcp.Compression.Disable](../server/configuration/server-configuration.mdx#server.tcp.compression.disable) configuration.  
  Learn how to change database settings using Studio [here](../studio/database/settings/database-settings.mdx).  



