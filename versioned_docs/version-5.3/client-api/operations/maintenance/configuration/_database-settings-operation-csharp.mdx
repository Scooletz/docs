import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<Admonition type="note" title="">
  
* The default database configuration settings can be customized:

  * From the Client API - as described in this article.

  * From the Studio - via the [Database Settings View](../../../../studio/database/settings/database-settings.mdx#database-settings).

* In this page:  

  * [Put database settings operation](../../../../client-api/operations/maintenance/configuration/database-settings-operation.mdx#put-database-settings-operation)

  * [Get database settings operation](../../../../client-api/operations/maintenance/configuration/database-settings-operation.mdx#get-database-settings-operation)

<Admonition type="warning" title="">
Do not modify the database settings unless you are an expert and know what you're doing.  
</Admonition>

</Admonition>

## Put database settings operation

* Use `PutDatabaseSettingsOperation` to modify the default database configuration.

* Only __database-level__ settings can be customized using this operation.  
  See article [Configuration overview](../../../../server/configuration/configuration-options.mdx) to learn how to customize the __server-level__ settings.  

* Note: for the changes to take effect, the database must be __reloaded__.  
  Reloading is accomplished by disabling and enabling the database using [ToggleDatabasesStateOperation](../../../../client-api/operations/server-wide/toggle-databases-state.mdx).  
  See the following example:

<Tabs groupId='languageSyntax'>
<TabItem value="Sync" label="Sync">
<CodeBlock language="csharp">
{`// 1. Modify the database settings:
// ================================

// Define the settings dictionary with the key-value pairs to set, for example:
var settings = new Dictionary<string, string>
{
    ["Databases.QueryTimeoutInSec"] = "350", 
    ["Indexing.Static.DeploymentMode"] = "Rolling"
};

// Define the put database settings operation,
// specify the database name & pass the settings dictionary
var putDatabaseSettingsOp = new PutDatabaseSettingsOperation(documentStore.Database, settings);
    
// Execute the operation by passing it to Maintenance.Send
documentStore.Maintenance.Send(putDatabaseSettingsOp);
    
// 2. RELOAD the database for the change to take effect:
// =====================================================

// Disable database
var disableDatabaseOp = new ToggleDatabasesStateOperation(documentStore.Database, true);
documentStore.Maintenance.Server.Send(disableDatabaseOp);

// Enable database
var enableDatabaseOp = new ToggleDatabasesStateOperation(documentStore.Database, false);
documentStore.Maintenance.Server.Send(enableDatabaseOp);
`}
</CodeBlock>
</TabItem>
<TabItem value="Async" label="Async">
<CodeBlock language="csharp">
{`// 1. Modify the database settings:
// ================================

// Define the settings dictionary with the key-value pairs to set, for example:
var settings = new Dictionary<string, string>
{
    ["Databases.QueryTimeoutInSec"] = "350", 
    ["Indexing.Static.DeploymentMode"] = "Rolling"
};

// Define the put database settings operation,
// specify the database name & pass the settings dictionary
var putDatabaseSettingsOp = new PutDatabaseSettingsOperation(documentStore.Database, settings);
    
// Execute the operation by passing it to Maintenance.SendAsync
await documentStore.Maintenance.SendAsync(putDatabaseSettingsOp);
    
// 2. RELOAD the database for the change to take effect:
// =====================================================

// Disable database
var disableDatabaseOp = new ToggleDatabasesStateOperation(documentStore.Database, true);
await documentStore.Maintenance.Server.SendAsync(disableDatabaseOp);

// Enable database
var enableDatabaseOp = new ToggleDatabasesStateOperation(documentStore.Database, false);
await documentStore.Maintenance.Server.SendAsync(enableDatabaseOp);
`}
</CodeBlock>
</TabItem>
</Tabs>
__Syntax__:

<TabItem value="syntax_1" label="syntax_1">
<CodeBlock language="csharp">
{`PutDatabaseSettingsOperation(string databaseName, Dictionary<string, string> configurationSettings)
`}
</CodeBlock>
</TabItem>

| Parameter             | Type                         | Description                                        |
|-----------------------|------------------------------|----------------------------------------------------|
| databaseName          | `string`                     | Name of database for which to change the settings. |
| configurationSettings | `Dictionary<string, string>` | The configuration settings to set.                 |




## Get database settings operation

* Use `GetDatabaseSettingsOperation` to get the configuration settings that were customized for the database.  

* Only settings that have been changed will be retrieved.

<Tabs groupId='languageSyntax'>
<TabItem value="Sync" label="Sync">
<CodeBlock language="csharp">
{`// Define the get database settings operation, specify the database name
var getDatabaseSettingsOp = new GetDatabaseSettingsOperation(documentStore.Database);
    
// Execute the operation by passing it to Maintenance.Send
var customizedSettings = documentStore.Maintenance.Send(getDatabaseSettingsOp);

// Get the customized value
var customizedValue = customizedSettings.Settings["Databases.QueryTimeoutInSec"];
`}
</CodeBlock>
</TabItem>
<TabItem value="Async" label="Async">
<CodeBlock language="csharp">
{`// Define the get database settings operation, specify the database name
var getDatabaseSettingsOp = new GetDatabaseSettingsOperation(documentStore.Database);
    
// Execute the operation by passing it to Maintenance.SendAsync
var customizedSettings = await documentStore.Maintenance.SendAsync(getDatabaseSettingsOp);

// Get the customized value
var customizedValue = customizedSettings.Settings["Databases.QueryTimeoutInSec"];
`}
</CodeBlock>
</TabItem>
</Tabs>
__Syntax__:

<TabItem value="syntax_2" label="syntax_2">
<CodeBlock language="csharp">
{`GetDatabaseSettingsOperation(string databaseName)
`}
</CodeBlock>
</TabItem>

| Parameter    | Type     | Description                                                 |
|--------------|----------|-------------------------------------------------------------|
| databaseName | `string` | The database name for which to get the customized settings. |


<TabItem value="syntax_3" label="syntax_3">
<CodeBlock language="csharp">
{`// Executing the operation returns the following object:
public class DatabaseSettings
\{
    // Configuration settings that have been customized
    public Dictionary<string, string> Settings \{ get; set; \}
\}
`}
</CodeBlock>
</TabItem>




