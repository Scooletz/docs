---
title: "Session: Querying: How to use highlighting?"
hide_table_of_contents: true
sidebar_label: How to Use Highlighting
sidebar_position: 16
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

export const supportedLanguages = ["csharp", "java"];


# Session: Querying: How to use highlighting?
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">


**Highlighting** can be a great feature for increasing search UX. To take leverage of it use `Highlight` method which is a part of query customizations available from `Customize`.

## Syntax

<TabItem value="highlight_1" label="highlight_1">
<CodeBlock language="csharp">
{`// Make a full-text search dynamic query:
// ======================================
List<Employee> employeesResults = session
     // Make a dynamic query on 'Employees' collection
    .Query<Employee>()
     // Search for documents containing the term 'sales' in their 'Notes' field
    .Search(x => x.Notes, "sales")
     // Request to highlight the searched term by calling 'Highlight'
    .Highlight(
        x => x.Notes, // The document-field name in which we search
        35,           // Max length of each text fragment
        4,            // Max number of fragments to return per document
        out Highlightings salesHighlights) // An out param for getting the highlighted text fragments
     // Execute the query
    .ToList();
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **fieldName** | string | Name of a field to highlight. |
| **fragmentLength** | int | Maximum length of text fragments that will be returned. |
| **fragmentCount** | int | Maximum number of fragments that will be returned. |
| **fragmentsField** | string | Field in returned results containing highlight fragments (mutually exclusive with 'highlightings'). |
| **highlightings** | [FieldHighlightings](../../../glossary/field-highlightings.mdx) | Instance of a FieldHighlightings that contains the highlight fragments for each returned result (mutually exclusive with 'fragmentsField'). |

| Return Value | |
| ------------- | ----- |
| IDocumentQueryCustomization | Returns self for easier method chaining. |
| [FieldHighlightings](../../../glossary/field-highlightings.mdx) | Instance of a FieldHighlightings that contains the highlight fragments for each returned result (mutually exclusive with 'fragmentsField'). |

## Example

<TabItem value="highlight_2" label="highlight_2">
<CodeBlock language="csharp">
{`// Make a full-text search dynamic query:
// ======================================
List<Employee> employeesResults = await asyncSession
     // Make a dynamic query on 'Employees' collection
    .Query<Employee>()
     // Search for documents containing the term 'sales' in their 'Notes' field
    .Search(x => x.Notes, "sales")
     // Request to highlight the searched term by calling 'Highlight'
    .Highlight(
        x => x.Notes, // The document-field name in which we search
        35,           // Max length of each text fragment
        4,            // Max number of fragments to return per document
        out Highlightings salesHighlights) // An out param for getting the highlighted text fragments
     // Execute the query
    .ToListAsync();
`}
</CodeBlock>
</TabItem>


</LanguageContent>
<LanguageContent language="java">


**Highlighting** can be a great feature for increasing search UX. To take leverage of it use `highlight` method which is a part of query customizations available from `customize`.

## Syntax

<TabItem value="highlight_1" label="highlight_1">
<CodeBlock language="java">
{`IDocumentQuery<T> highlight(String fieldName,
                            int fragmentLength,
                            int fragmentCount,
                            Reference<Highlightings> highlightings);

IDocumentQuery<T> highlight(String fieldName,
                            int fragmentLength,
                            int fragmentCount,
                            HighlightingOptions options,
                            Reference<Highlightings> highlightings);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **fieldName** | String | Name of a field to highlight. |
| **fragmentLength** | int | Maximum length of text fragments that will be returned. |
| **fragmentCount** | int | Maximum number of fragments that will be returned. |
| **fragmentsField** | String | Field in returned results containing highlight fragments (mutually exclusive with 'highlightings'). |
| **highlightings** | [FieldHighlightings](../../../glossary/field-highlightings.mdx) | Instance of a FieldHighlightings that contains the highlight fragments for each returned result (mutually exclusive with 'fragmentsField'). |

| Return Value | |
| ------------- | ----- |
| IDocumentQueryCustomization | Returns self for easier method chaining. |
| [FieldHighlightings](../../../glossary/field-highlightings.mdx) | Instance of a FieldHighlightings that contains the highlight fragments for each returned result (mutually exclusive with 'fragmentsField'). |

## Example

<TabItem value="highlight_2" label="highlight_2">
<CodeBlock language="java">
{`Reference<Highlightings> highlightingsRef = new Reference<>();
List<SearchItem> results = session
    .query(SearchItem.class, ContentSearchIndex.class)
    .highlight("text", 128, 1, highlightingsRef)
    .search("text", "raven")
    .toList();

StringBuilder builder = new StringBuilder();
builder.append("<ul>");

for (SearchItem result : results) \{
    String[] fragments = highlightingsRef.value.getFragments(result.getId());
    builder.append("<li>")
        .append(fragments[0])
        .append("</li>");
\}

builder.append("</ul>");
String ul = builder.toString();
`}
</CodeBlock>
</TabItem>


</LanguageContent>

<!---
- [Indexes : Querying : Highlights](../../../indexes/querying/highlights)

-->