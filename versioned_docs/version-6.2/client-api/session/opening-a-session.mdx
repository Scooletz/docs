---
title: "Open a Session"
hide_table_of_contents: true
sidebar_label: Open a Session
sidebar_position: 1
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

export const supportedLanguages = ["csharp", "java", "python", "php", "nodejs"];


# Open a Session
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">

<Admonition type="note" title="">

* A Session object is obtained from the [Document Store](../../client-api/what-is-a-document-store.mdx).  

* A Session can operate Synchronously or Asynchronously.  
  * `OpenSession()` - Open a Session for a **Synchronous** mode of operation.  
  * `OpenAsyncSession()` - Open a Session for **Asynchronous** mode of operation.  

* Various Session options can be configured using the `SessionOptions` object.  
  If no database is specified in the options then the [Default Database](../../client-api/setting-up-default-database.mdx) (stored in the Document Store) is assumed.

* Be sure to wrap the Session variable with a 'using' statement to ensure proper disposal.

* In this page:  
  * [Syntax](../../client-api/session/opening-a-session.mdx#syntax)  
  * [Session options](../../client-api/session/opening-a-session.mdx#session-options)  
  * [Open session example](../../client-api/session/opening-a-session.mdx#open-session-example)
</Admonition>
## Syntax

* Use `OpenSession()` / `OpenAsyncSession()` to open a session from the Document Store.  
* The following overloads are available:  

<Tabs groupId='languageSyntax'>
<TabItem value="Sync" label="Sync">
<CodeBlock language="csharp">
{`// Open a Session for the default database configured in \`DocumentStore.Database\`
IDocumentSession OpenSession();

// Open a Session for a specified database
IDocumentSession OpenSession(string database);

// Open a Session and pass it a preconfigured SessionOptions object
IDocumentSession OpenSession(SessionOptions options);
`}
</CodeBlock>
</TabItem>
<TabItem value="Async" label="Async">
<CodeBlock language="csharp">
{`// Open a Session for the default database configured in \`DocumentStore.Database\`
IAsyncDocumentSession OpenAsyncSession();

// Open a Session for a specified database
IAsyncDocumentSession OpenAsyncSession(string database);

// Open a Session and pass it a preconfigured SessionOptions object
IAsyncDocumentSession OpenAsyncSession(SessionOptions options);
`}
</CodeBlock>
</TabItem>
</Tabs>

| Parameter    | Type             | Description                                                                                                                    |
|--------------|------------------|--------------------------------------------------------------------------------------------------------------------------------|
| **database** | `string`           | The Session will operate on this database,<br/>overriding the default database set in the document store.                       |
| **options**  | `SessionOptions` | An object with Session configuration options. See details [below](../../client-api/session/opening-a-session.mdx#session-options). |

| Return Value                                 | Description                   |
|----------------------------------------------|-------------------------------|
| `IDocumentSession` / `IAsyncDocumentSession` | Instance of a Session object  |



## Session options

* The `SessionOptions` object contains various options to configure the Session's behavior.

| Option                                                  | Type              | Description                                                                                                                                                                                                                               | Default Value                                         |
|---------------------------------------------------------|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
| **Database**                                            | `string`            | The Session will operate on this database,<br/>overriding the Default Database.                                                                                                                                                            | `null` - the Session operates on the Default Database |
| **NoTracking**                                          | `bool`              | `true` - The Session tracks changes made to all entities it loaded, stored, or queried for.<br/>`false` - Tracking will be turned off.<br/>Learn more in [Disable tracking](../../client-api/session/configuration/how-to-disable-tracking.mdx) | `false`                                               |
| **NoCaching**                                           | `bool`              | `true` - Server responses will Not be cached.<br/>`false` - The Session caches the server responses.<br/>Learn more in [Disable caching](../../client-api/session/configuration/how-to-disable-caching.mdx)                                     | `false`                                               |
| **RequestExecutor**                                     | `RequestExecutor` | ( _Advanced option_ ) <br/>The request executor the Session should use.                                                                                                                                                                    | `null` - the default request executor is used         |
| **TransactionMode**                                     | `TransactionMode` | Specify the Session's transaction mode<br/>`SingleNode` / `ClusterWide`<br/>Learn more in [Cluster-wide vs. Single-node](../../client-api/session/cluster-transaction/overview.mdx#cluster-wide-transaction-vs-single-node-transaction)        | `SingleNode`                                          |

* Experts Only:

| Option                                                       | Type                | Description                                                                                                                                                                                                                                             | Default Value |
|--------------------------------------------------------------|---------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| **DisableAtomicDocumentWrites-<br/>InClusterWideTransaction** | `bool?`               | ( _Experts only_ ) <br/>`true` - Disable Atomic-Guards in cluster-wide sessions.<br/>`false` - Automatic atomic writes in cluster-wide sessions are enabled.<br/>Learn more in [Atomic-Guards](../../client-api/session/cluster-transaction/atomic-guards.mdx) | `false`       |



## Open session example

* The following example opens a **cluster-wide Session**:

<Tabs groupId='languageSyntax'>
<TabItem value="Sync" label="Sync">
<CodeBlock language="csharp">
{`using (var store = new DocumentStore())
{
    // Define the Session's options object
    SessionOptions options = new SessionOptions
    {
        Database = "your_database_name",
        TransactionMode = TransactionMode.ClusterWide
    };

    // Open the Session in a Synchronous mode
    // Pass the options object to the session
    using (IDocumentSession session = store.OpenSession(options))
    {
        //   Run your business logic:
        //   
        //   Store entities
        //   Load and Modify entities
        //   Query indexes & collections 
        //   Delete entities
        //   ... etc.

        session.SaveChanges();
        // When 'SaveChanges' returns successfully,
        // all changes made to the entities in the session are persisted to the documents in the database
    }
}
`}
</CodeBlock>
</TabItem>
<TabItem value="Async" label="Async">
<CodeBlock language="csharp">
{`using (var store = new DocumentStore())
{
    // Define the Session's options object
    SessionOptions options = new SessionOptions
    {
        Database = "your_database_name",
        TransactionMode = TransactionMode.ClusterWide
    };

    // Open the Session in an Asynchronous mode
    // Pass the options object to the session
    using (IAsyncDocumentSession asyncSession = store.OpenAsyncSession(options))
    {
        //   Run your business logic:
        //   
        //   Store entities
        //   Load and Modify documentitiesents
        //   Query indexes & collections 
        //   Delete documents
        //   ... etc.

        await asyncSession.SaveChangesAsync();
        // When 'SaveChanges' returns successfully,
        // all changes made to the entities in the session are persisted to the documents in the database
    }
}
`}
</CodeBlock>
</TabItem>
</Tabs>




</LanguageContent>
<LanguageContent language="java">


To open session use the `openSession` method from `DocumentStore`.

## Syntax

There are three overloads of `openSession` methods

<TabItem value="open_session_1" label="open_session_1">
<CodeBlock language="java">
{`// Open session for a 'default' database configured in 'DocumentStore'
IDocumentSession openSession();

// Open session for a specified database
IDocumentSession openSession(String database);

IDocumentSession openSession(SessionOptions sessionOptions);
`}
</CodeBlock>
</TabItem>

The first method is an equivalent of doing

<TabItem value="open_session_2" label="open_session_2">
<CodeBlock language="java">
{`store.openSession(new SessionOptions());
`}
</CodeBlock>
</TabItem>

The second method is an equivalent of doing

<TabItem value="open_session_3" label="open_session_3">
<CodeBlock language="java">
{`SessionOptions sessionOptions = new SessionOptions();
sessionOptions.setDatabase(databaseName);
store.openSession(sessionOptions);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **options** | `OpenSessionOptions` | Options **containing** information such as **name of database** and **RequestExecutor**. |

| Return Value | |
| ------------- | ----- |
| IDocumentSession | Instance of a session object. |

## Options

<TabItem value="session_options" label="session_options">
<CodeBlock language="java">
{`private String database;
private boolean noTracking;
private boolean noCaching;
private RequestExecutor requestExecutor;
private TransactionMode transactionMode;

// getters and setters
`}
</CodeBlock>
</TabItem>

| Options | | |
| ------------- | ------------- | ----- |
| **database** | String | Name of database that session should operate on. If `null` then [default database set in DocumentStore](../../client-api/setting-up-default-database.mdx) is used. |
| **noTracking** | boolean | Indicates if session should **not** keep track of the changes. Default: `false`. More [here](../../client-api/session/configuration/how-to-disable-tracking.mdx). |
| **noCaching** | boolean | Indicates if session should **not** cache responses. Default: `false`. More [here](../../client-api/session/configuration/how-to-disable-caching.mdx). |
| **requestExecutor** | `RequestExecutor` | _(Advanced)_ Request executor to use. If `null` default one will be used. |
| **transactionMode** | `TransactionMode` | Sets the mode for the session. By default it is set to `SINGLE_NODE`, but session can also operate 'CLUSTER_WIDE'. You can read more about Cluster-Wide Transactions [here](../../server/clustering/cluster-transactions.mdx). |


## Example I

<TabItem value="open_session_4" label="open_session_4">
<CodeBlock language="java">
{`try (IDocumentSession session = store.openSession()) \{
    // code here
\}
`}
</CodeBlock>
</TabItem>

## Example II - Disabling Entities Tracking

<TabItem value="open_session_tracking_1" label="open_session_tracking_1">
<CodeBlock language="java">
{`SessionOptions sessionOptions = new SessionOptions();
sessionOptions.setNoTracking(true);
try (IDocumentSession session = store.openSession()) \{
    Employee employee1 = session.load(Employee.class, "employees/1-A");
    Employee employee2 = session.load(Employee.class, "employees/1-A");

    // because NoTracking is set to 'true'
    // each load will create a new Employee instance
    Assert.assertNotSame(employee1, employee2);
\}
`}
</CodeBlock>
</TabItem>

## Remarks

<Admonition type="danger" title="Important" id="important" href="#important">
**Always remember to release session allocated resources after usage by invoking the `close` method or wrapping the session object in the `try` statement.**
</Admonition>


</LanguageContent>
<LanguageContent language="python">

<Admonition type="note" title="">

* A Session object is obtained from the [Document Store](../../client-api/what-is-a-document-store.mdx).  

* Open a session using `open_session()`.  

* Various Session options can be configured using the `SessionOptions` object.  
  If no database is specified in the options then the [Default Database](../../client-api/setting-up-default-database.mdx) (stored in the Document Store) is assumed.  

* Be sure to wrap the session variable using a 'with' statement to ensure proper disposal.

* In this page:  
  * [Syntax](../../client-api/session/opening-a-session.mdx#syntax)  
  * [Session options](../../client-api/session/opening-a-session.mdx#session-options)  
  * [Open session example](../../client-api/session/opening-a-session.mdx#open-session-example)
</Admonition>
## Syntax

Use `open_session()` to open a session from the Document Store.  

<TabItem value="open_session_1" label="open_session_1">
<CodeBlock language="python">
{`# Open a Session, you may pass either specified database, or preconfigured SessionOptions object
# Passing no optional arguments opens a session for the default database configured in DocumentStore.database
def open_session(
    self, database: Optional[str] = None, session_options: Optional[SessionOptions] = None
) -> DocumentSession:
    ...
`}
</CodeBlock>
</TabItem>

| Parameter    | Type             | Description                                                                                                                    |
|--------------|------------------|--------------------------------------------------------------------------------------------------------------------------------|
| **database** | `str`              | The session will operate on this database,<br/>overriding the default database set in the document store.                       |
| **options**  | `SessionOptions` | An object with Session configuration options. See details [below](../../client-api/session/opening-a-session.mdx#session-options). |

| Return Value                                 | Description                   |
|----------------------------------------------|-------------------------------|
| `IDocumentSession` | Instance of a Session object  |



## Session options

* The `SessionOptions` object contains various options to configure the Session's behavior.

| Option                                                  | Type               | Description                                                                                                                                                                                                                               | Default Value                                         |
|---------------------------------------------------------|------------------- |-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
| **database**                                            | `str`                | The Session will operate on this database,<br/>overriding the Default Database.                                                                                                                                                            | `None` - the Session operates on the Default Database |
| **no_tracking**                                         | `bool`               | `True` - The Session tracks changes made to all entities it loaded, stored, or queried for.<br/>`False` - Tracking will be turned off.<br/>Learn more in [Disable tracking](../../client-api/session/configuration/how-to-disable-tracking.mdx) | `False`                                               |
| **no_caching**                                          | `bool`               | `True` - Server responses will not be cached.<br/>`False` - The Session caches the server responses.<br/>Learn more in [Disable caching](../../client-api/session/configuration/how-to-disable-caching.mdx)                                     | `False`                                               |
| **request_executor**                                    | `RequestExecutor`  | ( _Advanced option_ ) <br/>The request executor the Session should use.                                                                                                                                                                    | `None` - the default request executor is used         |
| **transaction_mode**                                    | `TransactionMode`  | Specify the Session's transaction mode<br/>`SINGLE_NODE` / `CLUSTER_WIDE`<br/>Learn more in [Cluster-wide vs. Single-node](../../client-api/session/cluster-transaction/overview.mdx#cluster-wide-transaction-vs-single-node-transaction)      | `SINGLE_NODE`                                         |

* Experts Only:

| Option                                                             | Type                | Description                                                                                                                                                                                                                                             | Default Value |
|--------------------------------------------------------------------|---------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| **disable_atomic_document_writes_in_cluster_wide_transaction**     | `bool`                | **Experts only**<br/>`True` - Disable Atomic-Guards in cluster-wide sessions.<br/>`False` - Automatic atomic writes in cluster-wide sessions are enabled.<br/>Learn more in [Atomic-Guards](../../client-api/session/cluster-transaction/atomic-guards.mdx) | `False`       |



## Open session example

* The following example opens a **cluster-wide Session**:

<TabItem value="open_session_2" label="open_session_2">
<CodeBlock language="python">
{`with DocumentStore() as store:
    store.open_session()
    # - is equivalent to:
    store.open_session(session_options=SessionOptions())

    # The second overload -
    store.open_session("your_database_name")
    # - is equivalent to:
    store.open_session(session_options=SessionOptions(database="your_database_name"))
`}
</CodeBlock>
</TabItem>




</LanguageContent>
<LanguageContent language="php">

<Admonition type="note" title="">

* A Session object is obtained from the [Document Store](../../client-api/what-is-a-document-store.mdx).  

* Open a session using `openSession()`.  

* Various Session options can be configured using the `sessionOptions` object.  
  If no database is specified in the options then the [Default Database](../../client-api/setting-up-default-database.mdx) (stored in the Document Store) is assumed.

* Make sure you release allocated session resources using the `close` method or wrapping 
  the session object in a `try` statement ([see below](../../client-api/session/opening-a-session.mdx#example-3---releasing-session-resources)).  

* In this page:  
  * [Syntax](../../client-api/session/opening-a-session.mdx#syntax)  
  * [Session options](../../client-api/session/opening-a-session.mdx#session-options)  
  * [Open session examples](../../client-api/session/opening-a-session.mdx#open-session-examples)
</Admonition>
## Syntax

* Use `openSession()` to open a session from the Document Store.  
* The following overloads are available:  

<TabItem value="open_session_1" label="open_session_1">
<CodeBlock language="php">
{`// Open session for a 'default' database configured in 'DocumentStore'
public function openSession(): DocumentSessionInterface;

// Open session for a specified database
public function openSession(string $database): DocumentSessionInterface;

public function openSession(SessionOptions $sessionOptions): DocumentSessionInterface;
`}
</CodeBlock>
</TabItem>

| Parameter    | Type             | Description                                                                                                                    |
|--------------|------------------|--------------------------------------------------------------------------------------------------------------------------------|
| **database** | `string`         | The Session will operate on this database,<br/>overriding the default database set in the document store.                       |
| **options**  | `sessionOptions` | An object with Session configuration options. See details [below](../../client-api/session/opening-a-session.mdx#session-options). |

| Return Value               | Description                |
|----------------------------|----------------------------|
| `DocumentSessionInterface` | Document session interface |



## Session options

* The `sessionOptions` object contains various options to configure the Session's behavior.

| Option                | Type              | Description                                                                                                                                                                                                                               | Default Value                                         |
|-----------------------|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
| **Database**          | `string`          | The Session will operate on this database,<br/>overriding the Default Database.                                                                                                                                                            | `null` - the Session operates on the Default Database |
| **NoTracking**        | `bool`            | `true` - The Session tracks changes made to all entities it loaded, stored, or queried for.<br/>`false` - Tracking will be turned off.<br/>Learn more in [Disable tracking](../../client-api/session/configuration/how-to-disable-tracking.mdx) | `false`                                               |
| **NoCaching**         | `bool`            | `true` - Server responses will Not be cached.<br/>`false` - The Session caches the server responses.<br/>Learn more in [Disable caching](../../client-api/session/configuration/how-to-disable-caching.mdx)                                     | `false`                                               |
| **RequestExecutor**   | `RequestExecutor` | ( _Advanced option_ ) <br/>The request executor the Session should use.                                                                                                                                                                    | `null` - the default request executor is used         |
| **TransactionMode**   | `TransactionMode` | Specify the Session's transaction mode<br/>`SingleNode` / `ClusterWide`<br/>Learn more in [Cluster-wide vs. Single-node](../../client-api/session/cluster-transaction/overview.mdx#cluster-wide-transaction-vs-single-node-transaction)        | `SingleNode`                                          |

* Experts Only:

| Option                                                       | Type                | Description                                                                                                                                                                                                                                             | Default Value |
|--------------------------------------------------------------|---------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| **DisableAtomicDocumentWrites-<br/>InClusterWideTransaction** | `bool?`               | ( _Experts only_ ) <br/>`true` - Disable Atomic-Guards in cluster-wide sessions.<br/>`false` - Automatic atomic writes in cluster-wide sessions are enabled.<br/>Learn more in [Atomic-Guards](../../client-api/session/cluster-transaction/atomic-guards.mdx) | `false`       |



## Open session examples

#### Example 1
<TabItem value="open_session_2" label="open_session_2">
<CodeBlock language="php">
{`$store->openSession(new SessionOptions());
`}
</CodeBlock>
</TabItem>

#### Example 2
<TabItem value="open_session_3" label="open_session_3">
<CodeBlock language="php">
{`$sessionOptions = new SessionOptions();
$sessionOptions->setDatabase($databaseName);
$store->openSession($sessionOptions);
`}
</CodeBlock>
</TabItem>

#### Example 3 - Releasing session resources
<Admonition type="note" title="">
Always remember to release allocated session resources after usage by 
invoking the `close` method or wrapping the session object in a `try` statement.
</Admonition>
<TabItem value="open_session_4" label="open_session_4">
<CodeBlock language="php">
{`$session = $store->openSession();
try \{
    // code here
\} finally \{
    $session->close();
\}
`}
</CodeBlock>
</TabItem>

#### Example 4 - Disable entities tracking
<TabItem value="open_session_no_tracking" label="open_session_no_tracking">
<CodeBlock language="php">
{`$sessionOptions = new SessionOptions();
$sessionOptions->setNoTracking(true);
$session = $store->openSession();
try \{
    $employee1 = $session->load(Employee::class, "employees/1-A");
    $employee2 = $session->load(Employee::class, "employees/1-A");

    // because NoTracking is set to 'true'
    // each load will create a new Employee instance
    $this->assertNotSame($employee1, $employee2);
\} finally \{
    $session->close();
\}
`}
</CodeBlock>
</TabItem>

#### Example 5 - Disable session caching
<TabItem value="open_session_no_caching" label="open_session_no_caching">
<CodeBlock language="php">
{`$sessionOptions = new SessionOptions();
$sessionOptions->setNoCaching(true);
$session = $store->openSession();
try \{
    // code here
\} finally \{
    $session->close();
\}
`}
</CodeBlock>
</TabItem>




</LanguageContent>
<LanguageContent language="nodejs">

<Admonition type="note" title="">

* A session object is obtained from the [document store](../../client-api/what-is-a-document-store.mdx).  

* Various session options can be configured using the `SessionOptions` object.  
  If no database is specified in the options then the [default database](../../client-api/setting-up-default-database.mdx) is assumed.  

* Most methods on the session object are asynchronous and return a `Promise`.    
  Either use `async & await` or `.then() & callback functions`.  
  Refer to the specific documentation for each method usage.

* In this page:  
  * [Syntax](../../client-api/session/opening-a-session.mdx#syntax)  
  * [Session options](../../client-api/session/opening-a-session.mdx#session-options)  
  * [Open session example](../../client-api/session/opening-a-session.mdx#open-session-example)
</Admonition>
## Syntax

* Use `openSession()` to open a session from the document store.  
* The following overloads are available:

<TabItem value="open_session_1" label="open_session_1">
<CodeBlock language="js">
{`openSession();

openSession(database);

openSession(sessionOptions);
`}
</CodeBlock>
</TabItem>

| Parameter    | Type             | Description                                                                                                                    |
|--------------|------------------|--------------------------------------------------------------------------------------------------------------------------------|
| **database** | string           | The session will operate on this database,<br/>overriding the default database set in the document store.                       |
| **options**  | `SessionOptions` | An object with session configuration options. See details [below](../../client-api/session/opening-a-session.mdx#session-options). |

| Return Value        | Description                    |
|---------------------|--------------------------------|
| `IDocumentSession`  | Instance of a session object   |



## Session options

* The `SessionOptions` object contains various options to configure the Session's behavior.

| Option              | Type              | Description                                                                                                                                                                                                                               | Default Value                                          |
|---------------------|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
| **database**        | string            | The session will operate on this database,<br/>overriding the Default Database.                                                                                                                                                            | `null` - the session operates on the Default Database |
| **noTracking**      | boolean           | `true` - The session tracks changes made to all entities it loaded, stored, or queried for.<br/>`false` - Tracking will be turned off.<br/>Learn more in [Disable tracking](../../client-api/session/configuration/how-to-disable-tracking.mdx) | `false`                                                |
| **noCaching**       | boolean           | `true` - Server responses will Not be cached.<br/>`false` - The session caches the server responses.<br/>Learn more in [Disable caching](../../client-api/session/configuration/how-to-disable-caching.mdx)                                     | `false`                                                |
| **requestExecutor** | `RequestExecutor` | ( _Advanced option_ ) <br/>The request executor the session should use.                                                                                                                                                                    | `null` - the default request executor is used          |
| **transactionMode** | `TransactionMode` | Specify the session's transaction mode<br/>`SingleNode` / `ClusterWide`<br/>Learn more in [Cluster-wide vs. Single-node](../../client-api/session/cluster-transaction/overview.mdx#cluster-wide-transaction-vs-single-node-transaction)        | `SingleNode`                                           |

* Experts Only:

| Option                                                         | Type     | Description                                                                                                                                                                                                                                             | Default Value |
|----------------------------------------------------------------|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| **disableAtomicDocumentWrites-<br/>InClusterWideTransaction**   | boolean  | ( _Experts only_ ) <br/>`true` - Disable Atomic-Guards in cluster-wide sessions.<br/>`false` - Automatic atomic writes in cluster-wide sessions are enabled.<br/>Learn more in [Atomic-Guards](../../client-api/session/cluster-transaction/atomic-guards.mdx) | `false`       |



## Open session example

* The following example opens a **cluster-wide Session**:

<Tabs groupId='languageSyntax'>
<TabItem value="Using-await" label="Using-await">
<CodeBlock language="js">
{`// Open the session, pass the options object to the session
const session = documentStore.openSession({
    database: "your_database_name",
    transactionMode: "ClusterWide"
});

//   Run your business logic:
//
//   Store entities
//   Load and Modify entities
//   Query indexes & collections
//   Delete documents
//   ... etc.

// For example: load a document and modify it
// Note: 'load' returns a Promise and must be awaited
const entity = await session.load("companies/1-A");
entity.name = "NewCompanyName";

// Save you changes
// Note: 'saveChanges' also returns a Promise and must be awaited
await session.saveChanges();
// When 'SaveChanges' returns successfully,
// all changes made to the entities in the session are persisted to the documents in the database
`}
</CodeBlock>
</TabItem>
<TabItem value="Using-then" label="Using-then">
<CodeBlock language="js">
{`// Open the session, pass the options object to the session
const session = documentStore.openSession({
    database: "your_database_name",
    transactionMode: "ClusterWide"
});

//   Run your business logic:
//
//   Store entities
//   Load and Modify entities
//   Query indexes & collections
//   Delete documents
//   ... etc.

// For example: load a document, modify it, and save
// Note: 'load' & 'saveChanges' each return a Promise that is then handled by callback functions
session.load("companies/1-A")
    .then((company) => {
        company.name = "NewCompanyName";
    })
    .then(() => session.saveChanges())
    .then(() => {
        // When 'SaveChanges' returns successfully,
        // all changes made to the entities in the session are persisted to the documents in the database
    });
`}
</CodeBlock>
</TabItem>
</Tabs>




</LanguageContent>

<!---
### Client API
- [What is a Session and How Does it Work](../../client-api/session/what-is-a-session-and-how-does-it-work)
- [Storing Entities](../../client-api/session/storing-entities)
- [Loading Entities](../../client-api/session/loading-entities)
- [Saving Changes](../../client-api/session/saving-changes)
- [What is a Document Store](../../client-api/what-is-a-document-store)

### Querying
- [Query Overview](../../client-api/session/querying/how-to-query)
- [Basics](../../indexes/querying/query-index)

### Session
- [What is a Session and How Does it Work](../../client-api/session/what-is-a-session-and-how-does-it-work)
- [Storing Entities](../../client-api/session/storing-entities)
- [Loading Entities](../../client-api/session/loading-entities)
- [Saving Changes](../../client-api/session/saving-changes)

### Document Store
- [What is a Document Store](../../client-api/what-is-a-document-store)


-->