---
title: "Incremental Time Series: JavaScript Support"
hide_table_of_contents: true
sidebar_label: JavaScript Support
sidebar_position: 2
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

# Incremental Time Series: JavaScript Support

<Admonition type="note" title="">


* RavenDB's time-series 
  [Javascript Support](../../../../document-extensions/timeseries/client-api/javascript-support.mdx) 
  has been extended to support incremental time series.  

* You can use the Javascript [timeseries.increment](../../../../document-extensions/timeseries/incremental-time-series/client-api/javascript-support.mdx#timeseriesincrement) 
  method to create and modify incremental time series and their entries.  
  The method behaves the same way it does when it is called [using C#](../../../../document-extensions/timeseries/incremental-time-series/client-api/session/increment.mdx).  

* Incremental time series **cannot** use the non-incremental time series 
  [timeseries.append](../../../../document-extensions/timeseries/client-api/javascript-support.mdx#section-1) method.  

* Other Javascript methods available for an incremental time series:  
   * [timeseries.delete](../../../../document-extensions/timeseries/client-api/javascript-support.mdx#section-2)   
   * [timeseries.get](../../../../document-extensions/timeseries/client-api/javascript-support.mdx#section-3)  

* In this page:  
  * [The `timeseries` Interface](../../../../document-extensions/timeseries/incremental-time-series/client-api/javascript-support.mdx#the-timeseries-interface)  
  * [`timeseries.increment`](../../../../document-extensions/timeseries/incremental-time-series/client-api/javascript-support.mdx#timeseriesincrement)  
  * [Usage Sample](../../../../document-extensions/timeseries/incremental-time-series/client-api/javascript-support.mdx#usage-sample)  

</Admonition>

## The `timeseries` Interface

* Use `timeseries (doc, name)` to  choose a time series by the ID of its owner document and 
  by the series name.  

       | Parameter | Type                                        | Description                                                                 |
       |-----------|---------------------------------------------|-----------------------------------------------------------------------------|
       | doc       | `string` <br/> or <br/> `document instance` | Document ID, e.g. `users/1-A` <br/><br/> e.g. `this`                        |
       | name      | `string`                                    | Incremental time series Name (e.g. `INC:StockPrice`)                        |

* Use one of the following methods to access the chosen time series:  
   * [timeseries.increment](../../../../document-extensions/timeseries/incremental-time-series/client-api/javascript-support.mdx#the-timeseries-interface)  
   * [timeseries.delete](../../../../document-extensions/timeseries/client-api/javascript-support.mdx#section-2)  
   * [timeseries.get](../../../../document-extensions/timeseries/client-api/javascript-support.mdx#section-3)  

## `timeseries.increment`

* There are four `Increment` methods:  
   * Increment a time series entry's array of values at the provided timestamp.   
<TabItem value="incremental_declaration_increment-values-array-at-provided-timestamp" label="incremental_declaration_increment-values-array-at-provided-timestamp">
<CodeBlock language="csharp">
{`// Increment a time series entry's array of values at the provided timestamp
void Increment(DateTime timestamp, IEnumerable<double> values);
`}
</CodeBlock>
</TabItem>
   * Increment a time series entry's array of values at the current time.  
<TabItem value="incremental_declaration_increment-values-array-at-current-time" label="incremental_declaration_increment-values-array-at-current-time">
<CodeBlock language="csharp">
{`// Increment a time series entry's array of values at the current time
void Increment(IEnumerable<double> values);
`}
</CodeBlock>
</TabItem>
   * Increment an entry value at the provided timestamp.  
     (If the entry exists and has more than one value, only the first 
     value in its list will be incremented by the passed value.)  
<TabItem value="incremental_declaration_increment-value-at-provided-timestamp" label="incremental_declaration_increment-value-at-provided-timestamp">
<CodeBlock language="csharp">
{`// Increment an entry value at the provided timestamp
void Increment(DateTime timestamp, double value);
`}
</CodeBlock>
</TabItem>
   * Increment an entry value at the current time.  
     (If the entry exists and has more than one value, only the first 
     value in its list will be incremented by the passed value.)  
<TabItem value="incremental_declaration_increment-value-at-current-time" label="incremental_declaration_increment-value-at-current-time">
<CodeBlock language="csharp">
{`// Increment an entry value at the current time
void Increment(double value);
`}
</CodeBlock>
</TabItem>

* **Parameters**  

    | Parameters | Type | Description |
    |:-------------|:-------------|:-------------|
    | `timestamp` | DateTime | Time series entry's timestamp |
    | `values` | IEnumerable&lt;double&gt; | A list of delta values to increment the entry values by |
    | `value` | double | The delta to increment the entry value by |

* **Exceptions**  
  If the document doesn't exist, a `DocumentDoesNotExistException` exception is thrown.  



## Usage Sample

In this sample we use 
[session.Advanced.Defer](../../../../document-extensions/timeseries/client-api/session/patch.mdx#patching-using-sessionadvanceddefer) 
to patch an incremental time series.  
We go through a series of collected stock prices, and add a **2** factor to each collected stock price, 
that has been originally miscalculated.  
<TabItem value="incremental_PatchIncrementalTimeSeries" label="incremental_PatchIncrementalTimeSeries">
<CodeBlock language="csharp">
{`session.Advanced.Defer(new PatchCommandData("users/1-A", null,
    new PatchRequest
    \{
        Script = @"
            var i = 0;
            for(i = 0; i < $timeStamps.length; i++)
            \{
                timeseries(id(this), $timeseries)
                .increment (
                    new Date($timeStamps[i]), 
                    $factor);
            \}",

        Values =
        \{
            \{ "timeseries", "INC:StockPrice" \},
            \{ "timeStamps", timeStamps\},
            \{ "factor", 2 \},
        \}
    \}, null));
`}
</CodeBlock>
</TabItem>



