---
title: "Commands: Transformers: How to transform query results using transformer?"
hide_table_of_contents: true
sidebar_label: ...transform query results
sidebar_position: 0
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

export const supportedLanguages = ["csharp", "java", "http"];


# Commands: Transformers: How to transform query results using transformer?
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">


Query results can be transformed on the  server-side by passing the name and parameters (if necessary) of a transformer, along with the query. The following examples will demonstrate how to do this using commands:

## Example I

<TabItem value="query_transformer_1" label="query_transformer_1">
<CodeBlock language="csharp">
{`// query for all orders with 'Company' equal to 'companies/1' using 'Orders/Totals' index
// and transform results using 'Order/Statistics' transformer
QueryResult result = store
	.DatabaseCommands
	.Query(
		"Orders/Totals",
		new IndexQuery
		\{
			Query = "Company:companies/1",
			ResultsTransformer = "Order/Statistics"
		\});
`}
</CodeBlock>
</TabItem>

## Example II

<TabItem value="query_transformer_2" label="query_transformer_2">
<CodeBlock language="csharp">
{`// query for all orders with 'Company' equal to 'companies/1' using 'Orders/Totals' index
// and transform results using 'Order/Statistics' transformer
// stream the results
QueryHeaderInformation queryHeaderInfo;
IEnumerator<RavenJObject> result = store
	.DatabaseCommands
	.StreamQuery(
		"Orders/Totals",
		new IndexQuery
		\{
			Query = "Company:companies/1",
			ResultsTransformer = "Order/Statistics"
		\},
		out queryHeaderInfo);
`}
</CodeBlock>
</TabItem>

## Example III

<TabItem value="query_transformer_3" label="query_transformer_3">
<CodeBlock language="csharp">
{`// Search for similar documents to 'articles/1'
// using 'Articles/MoreLikeThis' index, search only field 'Body'
// and transform results using 'Articles/NoComments' transformer
QueryHeaderInformation queryHeaderInfo;
MultiLoadResult result = store
	.DatabaseCommands
	.MoreLikeThis(
		new MoreLikeThisQuery
		\{
			IndexName = "Articles/MoreLikeThis",
			DocumentId = "articles/1",
			Fields = new[] \{ "Body" \},
			ResultsTransformer = "Articles/NoComments"
		\});
`}
</CodeBlock>
</TabItem>


</LanguageContent>
<LanguageContent language="java">


Query results can be transformed on the server-side by passing the name and parameters (if necessary) of a transformer, along with the query. The following examples will demonstrate how to do this using commands:

## Example I

<TabItem value="query_transformer_1" label="query_transformer_1">
<CodeBlock language="java">
{`// query for all orders with 'Company' equal to 'companies/1' using 'Orders/Totals' index
// and transform results using 'Order/Statistics' transformer
IndexQuery indexQuery = new IndexQuery();
indexQuery.setQuery("Company:companies/1");
indexQuery.setResultsTransformer("Order/Statistics");
QueryResult result = store.getDatabaseCommands().query("Orders/Totals", indexQuery);
`}
</CodeBlock>
</TabItem>

## Example II

<TabItem value="query_transformer_2" label="query_transformer_2">
<CodeBlock language="java">
{`// query for all orders with 'Company' equal to 'companies/1' using 'Orders/Totals' index
// and transform results using 'Order/Statistics' transformer
// stream the results
Reference<QueryHeaderInformation> queryHeaderInfoRef = new Reference<QueryHeaderInformation>();
IndexQuery indexQuery = new IndexQuery();
indexQuery.setQuery("Company:companies/1");
indexQuery.setResultsTransformer("Order/Statistics");
CloseableIterator<RavenJObject> result = store.getDatabaseCommands().streamQuery("Orders/Totals", indexQuery, queryHeaderInfoRef);
`}
</CodeBlock>
</TabItem>

## Example III

<TabItem value="query_transformer_3" label="query_transformer_3">
<CodeBlock language="java">
{`// Search for similar documents to 'articles/1'
// using 'Articles/MoreLikeThis' index, search only field 'Body'
// and transform results using 'Articles/NoComments' transformer
MoreLikeThisQuery moreLikeThisQuery = new MoreLikeThisQuery();
moreLikeThisQuery.setIndexName("Articles/MoreLikeThis");
moreLikeThisQuery.setDocumentId("articles/1");
moreLikeThisQuery.setFields(new String[] \{ "Body" \});
moreLikeThisQuery.setResultsTransformer("Articles/NoComments");
MultiLoadResult result = store.getDatabaseCommands().moreLikeThis(moreLikeThisQuery);
`}
</CodeBlock>
</TabItem>


</LanguageContent>
<LanguageContent language="http">


Simply use `transformer` parameter to specify transfomer name and `tp` parameters to specify transformer parameters. More info can be found in [Query](../../../../client-api/commands/querying/how-to-query-a-database.mdx) section.


</LanguageContent>

<!---
- [How to query a database?](../../../../client-api/commands/querying/how-to-query-a-database)
- [How to stream query results?](../../../../client-api/commands/querying/how-to-stream-query-results)
- [How to work with more like this query?](../../../../client-api/commands/querying/how-to-work-with-morelikethis-query)

-->