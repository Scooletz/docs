---
title: "Session: Querying: How to query?"
hide_table_of_contents: true
sidebar_label: Query Overview
sidebar_position: 0
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

export const supportedLanguages = ["csharp", "java"];


# Session: Querying: How to query?
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">


Database can be queried using LINQ-enabled `Query` method with few custom extension that will be described later.

## Syntax

<TabItem value="query_1_0" label="query_1_0">
<CodeBlock language="csharp">
{`IRavenQueryable<T> Query<T>(string indexName = null, string collectionName = null,
                            bool isMapReduce = false);

IRavenQueryable<T> Query<T, TIndexCreator>()
    where TIndexCreator : AbstractIndexCreationTask, new();
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **indexName** | string | Name of an index to perform query on |
| **isMapReduce** | bool | Indicates if queried index is a map/reduce index (modifies how we treat identifier properties). |

| Return Value | |
| ------------- | ----- |
| IRavenQueryable | Instance implementing IRavenQueryable interface containing additional query methods and extensions. |


<Admonition type="note" title="">
The default value of a page size for a query is `128` results. In order to retrieve a different number of results in a single query use `.Take(pageSize)` method.
</Admonition>

## Example I - Basic

<TabItem value="query_1_1" label="query_1_1">
<CodeBlock language="csharp">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

List<Employee> allEmployees = session
    .Query<Employee>() // Query for all documents from 'Employees' collection
    .ToList();         // Execute the query

// All 'Employee' entities are loaded and will be tracked by the session 
`}
</CodeBlock>
</TabItem>

Notice that by specifying `Employee` as a type parameter, we are not only defining a result type, but also marking name of collection that will be queried.

## Example II - Syntax

Queries can be performed using both LINQ syntaxes.

<TabItem value="query_1_2" label="query_1_2">
<CodeBlock language="csharp">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

List<Employee> allEmployees = await asyncSession
    .Query<Employee>() // Query for all documents from 'Employees' collection
    .ToListAsync();    // Execute the query

// All 'Employee' entities are loaded and will be tracked by the session 
`}
</CodeBlock>
</TabItem>

<TabItem value="query_1_3" label="query_1_3">
<CodeBlock language="csharp">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

// Query for all documents from 'Employees' collection
IRavenQueryable<Employee> query = from employee in session.Query<Employee>()
                                  select employee;
// Execute the query
List<Employee> allEmployees = query.ToList();

// All 'Employee' entities are loaded and will be tracked by the session 
`}
</CodeBlock>
</TabItem>

## Example III - Querying specified index

<TabItem value="query_1_4" label="query_1_4">
<CodeBlock language="csharp">
{`// This is a Full Collection Query
// No auto-index is created since no filtering is applied

// Query for all documents from 'Employees' collection
IRavenQueryable<Employee> query = from employee in asyncSession.Query<Employee>()
                                  select employee;
// Execute the query
List<Employee> allEmployees = await query.ToListAsync();

// All 'Employee' entities are loaded and will be tracked by the session 
`}
</CodeBlock>
</TabItem>

or 

<TabItem value="query_1_5" label="query_1_5">
<CodeBlock language="csharp">
{`// load all entities from 'Employees' collection
// where FirstName equals 'Robert'
// using 'Employees/ByName' index
List<Employee> query = (from employee in session.Query<Employee, Employees_ByName>()
                        where employee.FirstName == "Robert"
                        select employee).ToList();
`}
</CodeBlock>
</TabItem>

## Custom methods and extensions

Available custom methods and extensions:

- [AddTransformerParameter](../../../client-api/session/querying/how-to-use-transformers-in-queries.mdx)
- [AggregateBy](../../../client-api/session/querying/how-to-perform-dynamic-aggregation.mdx)
- AnyAsync
- [As](../../../client-api/session/querying/how-to-perform-projection.mdx)
- [AsProjection](../../../client-api/session/querying/how-to-perform-projection.mdx)
- CountAsync
- [CountLazily](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- [Customize](../../../client-api/session/querying/how-to-customize-query.mdx)
- FirstAsync
- FirstOrDefaultAsync
- [Include](../../../indexes/querying/handling-document-relationships.mdx)
- [Intersect](../../../client-api/session/querying/how-to-use-intersect.mdx)
- [Lazily](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- [LazilyAsync](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- `OrderByScore()`
- [ProjectFromIndexFieldsInto](../../../client-api/session/querying/how-to-perform-projection.mdx)
- [Search](../../../client-api/session/querying/how-to-use-search.mdx)
- SingleAsync
- SingleOrDefaultAsync
- [Spatial](../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- [Statistics](../../../client-api/session/querying/how-to-get-query-statistics.mdx)
- [Suggest](../../../client-api/session/querying/how-to-work-with-suggestions.mdx)
- [SuggestAsync](../../../client-api/session/querying/how-to-work-with-suggestions.mdx)
- [SuggestLazy](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- [ToFacetQuery](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [ToFacets](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [ToFacetsAsync](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [ToFacetsLazy](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- ToListAsync
- [TransformWith](../../../client-api/session/querying/how-to-use-transformers-in-queries.mdx)


</LanguageContent>
<LanguageContent language="java">


Database can be queried using QueryDSL-enabled `query` method with few custom extension that will be described later.

## Syntax

<TabItem value="query_1_0" label="query_1_0">
<CodeBlock language="java">
{`<T> IDocumentQuery<T> query(Class<T> clazz);

<T> IDocumentQuery<T> query(Class<T> clazz, Query collectionOrIndexName);

<T, TIndex extends AbstractIndexCreationTask> IDocumentQuery<T> query(Class<T> clazz, Class<TIndex> indexClazz);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **indexName** | String | Name of an index to perform query on |
| **isMapReduce** | boolean | Indicates if queried index is a map/reduce index (modifies how we treat identifier properties). |

| Return Value | |
| ------------- | ----- |
| IRavenQueryable | Instance implementing IRavenQueryable interface containing additional query methods. |

<Admonition type="note" title="">
The default value of a page size for a query is `128` results. In order to retrieve a different number of results in a single query use `.Take(pageSize)` method.
</Admonition>

## Example I - Basic

<TabItem value="query_1_1" label="query_1_1">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
List<Employee> employees = session.query(Employee.class)
    .toList();
`}
</CodeBlock>
</TabItem>

Notice that by specifying `Employee` as a class parameter, we are not only defining a result type, but also marking name of collection that will be queried.

## Example II - Syntax

Queries can be performed using strongly typed syntax.

<TabItem value="query_1_2" label="query_1_2">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
// where FirstName equals 'Robert'
List<Employee> employees = session.query(Employee.class)
    .whereEquals("FirstName", "Robert")
    .toList();
`}
</CodeBlock>
</TabItem>

## Example III - Querying specified index

<TabItem value="query_1_4" label="query_1_4">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
// where firstName equals 'Robert'
// using 'Employees/ByName' index
List<Employee> employees = session.query(Employee.class, index("Employees/ByName"))
    .whereEquals("FirstName", "Robert")
    .toList();
`}
</CodeBlock>
</TabItem>

or 

<TabItem value="query_1_5" label="query_1_5">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
// where firstName equals 'Robert'
// using 'Employees/ByName' index
List<Employee> employees = session.query(Employee.class, Employees_ByName.class)
    .whereEquals("FirstName", "Robert")
    .toList();
`}
</CodeBlock>
</TabItem>

## Custom methods and extensions

Available custom methods and extensions:

- [AddTransformerParameter](../../../client-api/session/querying/how-to-use-transformers-in-queries.mdx)
- [AggregateBy](../../../client-api/session/querying/how-to-perform-dynamic-aggregation.mdx)
- [As](../../../client-api/session/querying/how-to-perform-projection.mdx)
- [AsProjection](../../../client-api/session/querying/how-to-perform-projection.mdx)
- [CountLazily](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- [Customize](../../../client-api/session/querying/how-to-customize-query.mdx)
- [Include](../../../indexes/querying/handling-document-relationships.mdx)
- [Intersect](../../../client-api/session/querying/how-to-use-intersect.mdx)
- [Lazily](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- `OrderByScore()`
- [ProjectFromIndexFieldsInto](../../../client-api/session/querying/how-to-perform-projection.mdx)
- [Search](../../../client-api/session/querying/how-to-use-search.mdx)
- [Spatial](../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- [Statistics](../../../client-api/session/querying/how-to-get-query-statistics.mdx)
- [Suggest](../../../client-api/session/querying/how-to-work-with-suggestions.mdx)
- [SuggestLazy](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- [ToFacetQuery](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [ToFacets](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [ToFacetsLazy](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [TransformWith](../../../client-api/session/querying/how-to-use-transformers-in-queries.mdx)


</LanguageContent>

<!---
- [What are indexes?](../../../indexes/what-are-indexes)
- [Indexes : Querying: Basics](../../../indexes/querying/basics)

-->