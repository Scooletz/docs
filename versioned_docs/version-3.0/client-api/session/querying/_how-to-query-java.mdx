import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

Database can be queried using QueryDSL-enabled `query` method with few custom extension that will be described later.

## Syntax

<TabItem value="query_1_0" label="query_1_0">
<CodeBlock language="java">
{`<T> IDocumentQuery<T> query(Class<T> clazz);

<T> IDocumentQuery<T> query(Class<T> clazz, Query collectionOrIndexName);

<T, TIndex extends AbstractIndexCreationTask> IDocumentQuery<T> query(Class<T> clazz, Class<TIndex> indexClazz);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **indexName** | String | Name of an index to perform query on |
| **isMapReduce** | boolean | Indicates if queried index is a map/reduce index (modifies how we treat identifier properties). |

| Return Value | |
| ------------- | ----- |
| IRavenQueryable | Instance implementing IRavenQueryable interface containing additional query methods. |

<Admonition type="note" title="">
The default value of a page size for a query is `128` results. In order to retrieve a different number of results in a single query use `.Take(pageSize)` method.
</Admonition>

## Example I - Basic

<TabItem value="query_1_1" label="query_1_1">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
List<Employee> employees = session.query(Employee.class)
    .toList();
`}
</CodeBlock>
</TabItem>

Notice that by specifying `Employee` as a class parameter, we are not only defining a result type, but also marking name of collection that will be queried.

## Example II - Syntax

Queries can be performed using strongly typed syntax.

<TabItem value="query_1_2" label="query_1_2">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
// where FirstName equals 'Robert'
List<Employee> employees = session.query(Employee.class)
    .whereEquals("FirstName", "Robert")
    .toList();
`}
</CodeBlock>
</TabItem>

## Example III - Querying specified index

<TabItem value="query_1_4" label="query_1_4">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
// where firstName equals 'Robert'
// using 'Employees/ByName' index
List<Employee> employees = session.query(Employee.class, index("Employees/ByName"))
    .whereEquals("FirstName", "Robert")
    .toList();
`}
</CodeBlock>
</TabItem>

or 

<TabItem value="query_1_5" label="query_1_5">
<CodeBlock language="java">
{`// load all entities from 'Employees' collection
// where firstName equals 'Robert'
// using 'Employees/ByName' index
List<Employee> employees = session.query(Employee.class, Employees_ByName.class)
    .whereEquals("FirstName", "Robert")
    .toList();
`}
</CodeBlock>
</TabItem>

## Custom methods and extensions

Available custom methods and extensions:

- [AddTransformerParameter](../../../client-api/session/querying/how-to-use-transformers-in-queries.mdx)
- [AggregateBy](../../../client-api/session/querying/how-to-perform-dynamic-aggregation.mdx)
- [As](../../../client-api/session/querying/how-to-perform-projection.mdx)
- [AsProjection](../../../client-api/session/querying/how-to-perform-projection.mdx)
- [CountLazily](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- [Customize](../../../client-api/session/querying/how-to-customize-query.mdx)
- [Include](../../../indexes/querying/handling-document-relationships.mdx)
- [Intersect](../../../client-api/session/querying/how-to-use-intersect.mdx)
- [Lazily](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- `OrderByScore()`
- [ProjectFromIndexFieldsInto](../../../client-api/session/querying/how-to-perform-projection.mdx)
- [Search](../../../client-api/session/querying/how-to-use-search.mdx)
- [Spatial](../../../client-api/session/querying/how-to-query-a-spatial-index.mdx)
- [Statistics](../../../client-api/session/querying/how-to-get-query-statistics.mdx)
- [Suggest](../../../client-api/session/querying/how-to-work-with-suggestions.mdx)
- [SuggestLazy](../../../client-api/session/querying/how-to-perform-queries-lazily.mdx)
- [ToFacetQuery](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [ToFacets](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [ToFacetsLazy](../../../client-api/session/querying/how-to-perform-a-faceted-search.mdx)
- [TransformWith](../../../client-api/session/querying/how-to-use-transformers-in-queries.mdx)


