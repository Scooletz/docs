---
title: "Session: Querying: Debugging: How to include Query Explanations"
hide_table_of_contents: true
sidebar_label: Include Query Explanations
sidebar_position: 0
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

export const supportedLanguages = ["csharp", "java"];


# Session: Querying: Debugging: How to include Query Explanations
<LanguageSwitcher supportedLanguages={supportedLanguages} />
<LanguageContent language="csharp">


`includeExplanations` allows to investigate details related to score assigned for each query result.

## Syntax


<TabItem value="explain_1" label="explain_1">
<CodeBlock language="csharp">
{`IDocumentQuery<T> IncludeExplanations(out Explanations explanations);
`}
</CodeBlock>
</TabItem>

## Example

<Tabs groupId='languageSyntax'>
<TabItem value="Sync" label="Sync">
<CodeBlock language="csharp">
{`var syrups = session.Advanced.DocumentQuery<Product>()
    .IncludeExplanations(out Explanations explanations)
    .Search(x => x.Name, "Syrup")
    .ToList();

string[] scoreDetails = explanations.GetExplanations(syrups[0].Id);
`}
</CodeBlock>
</TabItem>
<TabItem value="Async" label="Async">
<CodeBlock language="csharp">
{`var syrups = await session.Advanced.AsyncDocumentQuery<Product>()
    .IncludeExplanations(out Explanations explanations)
    .Search(x => x.Name, "Syrup")
    .ToListAsync();

string[] scoreDetails = explanations.GetExplanations(syrups[0].Id);
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`from Products 
where search(Name, 'Syrup')
include explanations()
`}
</CodeBlock>
</TabItem>
</Tabs>

---
Sample explanation:

```
4.650658 = (MATCH) fieldWeight(search(Name):syrup in 2), product of:
  1 = tf(termFreq(search(Name):syrup)=1)
  4.650658 = idf(docFreq=1, maxDocs=77)
  1 = fieldNorm(field=search(Name), doc=2)
```

</LanguageContent>
<LanguageContent language="java">


`includeExplanations` allows to investigate details related to score assigned for each query result.

## Syntax


<TabItem value="explain_1" label="explain_1">
<CodeBlock language="java">
{`IDocumentQuery<T> includeExplanations(Reference<Explanations> explanations);
`}
</CodeBlock>
</TabItem>

## Example

<Tabs groupId='languageSyntax'>
<TabItem value="Java" label="Java">
<CodeBlock language="java">
{`Reference<Explanations> explanationRef = new Reference<>();
List<Product> syrups = session.advanced().documentQuery(Product.class)
    .includeExplanations(explanationRef)
    .search("Name", "Syrup")
    .toList();

String[] scoreDetails = explanationRef.value.getExplanations(syrups.get(0).getId());
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`from Products 
where search(Name, 'Syrup')
include explanations()
`}
</CodeBlock>
</TabItem>
</Tabs>

---
Sample explanation:

```
4.650658 = (MATCH) fieldWeight(search(Name):syrup in 2), product of:
  1 = tf(termFreq(search(Name):syrup)=1)
  4.650658 = idf(docFreq=1, maxDocs=77)
  1 = fieldNorm(field=search(Name), doc=2)
```

</LanguageContent>

<!---

-->