import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<Admonition type="note" title="">

* The following options are available to **count query results**:

    * [`count`](../../../client-api/session/querying/how-to-count-query-results.mdx#count)
    * [Get number of results from query stats](../../../client-api/session/querying/how-to-count-query-results.mdx#get-count-from-query-stats)

</Admonition>
## `count`

Count query results using the `count` method.  

<Tabs groupId='languageSyntax'>
<TabItem value="Query" label="Query">
<CodeBlock language="python">
{`number_of_orders = (
    session.advanced.document_query(object_type=Order).where_equals("ship_to.country", "UK").count()
)
# The query returns the NUMBER of orders shipped to UK (int)
`}
</CodeBlock>
</TabItem>
<TabItem value="RQL" label="RQL">
<CodeBlock language="sql">
{`from "Orders"
where ship_to.country == "UK" limit 0, 0

// The RQL generated will trigger query execution
// however, no documents are returned (limit is set 0)
`}
</CodeBlock>
</TabItem>
</Tabs>



## Get count from query stats

When executing a query, you can retrieve query statistics that include the total number of results.  
To do this, define a callback function that takes `QueryStatistics` as an argument and applies whatever 
logic you want to apply.  

<TabItem value="python" label="python">
<CodeBlock language="python">
{`def **statistics_callback(statistics: QueryStatistics) -> None:
   # Read and interact with QueryStatistics here
   total_results = statistics.total_results
   duration_milliseconds = statistics.duration_in_ms
   ...
`}
</CodeBlock>
</TabItem>

Then pass your function as an argument to the `query.statistics` method and use the retrieved `QueryStatistics` object.  

<TabItem value="python" label="python">
<CodeBlock language="python">
{`employees = list(
session.query(object_type=Employee)
.where_equals("first_name", "Robert")
.statistics(**statistics_callback)
)
`}
</CodeBlock>
</TabItem>

Learn more in [Get Query Statistics](../../../client-api/session/querying/how-to-get-query-statistics.mdx).  




