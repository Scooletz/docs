import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<Admonition type="note" title="">

* Use `GetRevisionsOperation` to GET the document's revisions.

* To only COUNT the number of revisions without getting them, use the [get_count_for](../../../../document-extensions/revisions/client-api/session/counting.mdx) session method.

* In this page:  
  * [Get all revisions](../../../../document-extensions/revisions/client-api/operations/get-revisions.mdx#get-all-revisions)  
  * [Paging results](../../../../document-extensions/revisions/client-api/operations/get-revisions.mdx#paging-results)  
  * [Syntax](../../../../document-extensions/revisions/client-api/operations/get-revisions.mdx#syntax)  

</Admonition>
## Get all revisions

<TabItem value="getAllRevisions" label="getAllRevisions">
<CodeBlock language="php">
{`// Define the get revisions operation, pass the document id
$getRevisionsOp = new GetRevisionsOperation(Company::class, "Companies/1-A");

// Execute the operation by passing it to Operations.Send
/** @var RevisionsResult $revisions */
$revisions = $documentStore->operations()->send($getRevisionsOp);

// The revisions info:
/** @var array<Company> $allRevisions */
$allRevisions = $revisions->getResults(); // All the revisions
$revisionsCount = $revisions->getTotalResults();    // Total number of revisions
`}
</CodeBlock>
</TabItem>



## Paging results

* Get and process revisions, one page at a time:
<TabItem value="getRevisionsWithPaging" label="getRevisionsWithPaging">
<CodeBlock language="php">
{`$start = 0;
$pageSize = 100;

while (true)
\{
    // Execute the get revisions operation
    // Pass the document id, start & page size to get
    /** @var RevisionsResult $revisions */
    $revisions = $documentStore->operations()->send(
        new GetRevisionsOperation(Company::class, "Companies/1-A", $start, $pageSize));

    // Process the retrieved revisions here

    if (count($revisions->getResults()) < $pageSize)
        break; // No more revisions to retrieve

    // Increment 'start' by page-size, to get the "next page" in next iteration
    $start += $pageSize;
\}
`}
</CodeBlock>
</TabItem>

* The document ID, start & page size can be wrapped in a `Parameters` object:
<TabItem value="getRevisionsWithPagingParams" label="getRevisionsWithPagingParams">
<CodeBlock language="php">
{`$parameters = new GetRevisionsOperationParameters();
$parameters->setId("Companies/1-A");
$parameters->setStart(0);
$parameters->setPageSize(100);

/** @var RevisionsResult $revisions */
$revisions = $documentStore->operations->send(
    new GetRevisionsOperation(Company::class, $parameters));
`}
</CodeBlock>
</TabItem>



## Syntax

| Parameter | Type | Description |
| - | - | - |
| **id** | `string` | ID of the document to get revisions for |
| **start** | `int` | Revision number to start from |
| **pageSize** | `int` | Number of revisions to get |
| **parameters** | `Parameters` | An object that wraps `id`, `start`, and `pageSize` |




