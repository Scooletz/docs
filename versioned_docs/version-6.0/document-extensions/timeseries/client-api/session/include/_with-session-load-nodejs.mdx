import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<Admonition type="note" title="">

* When loading a document via `session.load`,  
  you can _include_ all entries of a time series or a specific range of entries.

* The included time series data is stored within the session   
  and can be provided instantly when requested without any additional server calls.

* In this page:
   * [Include time series when loading a document](../../../../../document-extensions/timeseries/client-api/session/include/with-session-load.mdx#include-time-series-when-loading-a-document)
   * [Syntax](../../../../../document-extensions/timeseries/client-api/session/include/with-session-load.mdx#syntax)

</Admonition>
## Include time series when loading a document

In this example, we load a document using `session.load`,  
and include a selected range of entries from time series "HeartRates".

<TabItem value="include_1" label="include_1">
<CodeBlock language="js">
{`const session = documentStore.openSession();

const baseTime = new Date();
const from = new Date(baseTime.getTime() + 60_000 * 3);
const to = new Date(baseTime.getTime() + 60_000 * 8);

// Load a document entity to the session
const user = await session.load("users/john", \{
    // Call 'includeTimeSeries' to include time series entries, pass:
    // * The time series name
    // * Start and end timestamps indicating the range of entries to include
    includes: builder => builder.includeTimeSeries("HeartRates", from, to)
\});

const numberOfRequests1 = session.advanced.numberOfRequests;

// The following call to 'get' will Not trigger a server request,  
// the entries will be retrieved from the session's cache.  
const entries = await session
    .timeSeriesFor("users/john", "HeartRates")
    .get(from, to);

const numberOfRequests2 = session.advanced.numberOfRequests;
assert.equal(numberOfRequests1, numberOfRequests2);
`}
</CodeBlock>
</TabItem>



## Syntax

**`session.load`**

<TabItem value="syntax_1" label="syntax_1">
<CodeBlock language="js">
{`load(id, options?);
`}
</CodeBlock>
</TabItem>

| Parameter    | Type     | Description                                                                                   |
|--------------|----------|-----------------------------------------------------------------------------------------------|
| **id**       | `string` | Document ID to load.                                                                          |
| **options**  | `object` | object containing the `includes` builder that specifies which time series entries to include. |

**`includes`** builder methods:

<TabItem value="syntax_2" label="syntax_2">
<CodeBlock language="js">
{`includeTimeSeries(name);
includeTimeSeries(name, from, to);
`}
</CodeBlock>
</TabItem>

| Parameter | Type     | Description                                                          |
|-----------|----------|----------------------------------------------------------------------|
| **name**  | `string` | Time series name.                                                    |
| **from**  | `Date`   | Time series range start (inclusive).<br/>Default: minimum date value. |
| **to**    | `Date`   | Time series range end (inclusive).<br/>Default: maximum date value.   |




